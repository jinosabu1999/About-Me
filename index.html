<!DOCTYPE html>
<html lang="en" data-theme="dark" data-card-style="glass">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jino Sabu | Connect With Me</title>

  <!-- SEO + Social -->
  <meta name="description" content="Jino Sabu ‚Äî Mechanical Engineer, Frontend Developer, and AI Enthusiast crafting futuristic digital experiences." />
  <meta name="keywords" content="Jino Sabu, frontend developer, mechanical engineer, AI enthusiast, portfolio, projects" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#0e1a2b" />
  <meta property="og:title" content="Jino Sabu | Connect With Me" />
  <meta property="og:description" content="I don‚Äôt just build websites‚ÄîI build vibes. Explore projects, tools, and more." />
  <meta property="og:image" content="profile.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Jino Sabu | Connect With Me" />
  <meta name="twitter:description" content="Mechanical Engineer ‚Ä¢ Frontend Dev ‚Ä¢ AI Enthusiast" />
  <meta name="twitter:image" content="profile.jpg" />

  <!-- Performance & Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@400;600&family=Roboto+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'%3E%3Crect width='256' height='256' rx='48' fill='%2300c9ff'/%3E%3Ctext x='50%25' y='54%25' text-anchor='middle' font-size='120' font-family='Verdana' fill='white'%3EJ%3C/text%3E%3C/svg%3E" />

  <style>
    @property --angle {
      syntax: '<angle>';
      initial-value: 0deg;
      inherits: false;
    }

    :root {
      --font-main: 'Orbitron', system-ui, sans-serif;
      --bg-color: #0e1a2b;
      --card-color: rgba(255,255,255,0.04);
      --accent: #3ee8d3;
      --accent-2: #00c9ff;
      --accent-rgb: 62, 232, 211;
      --text-color: #e6f1ff;
      --muted: #b0e6ff;
      --muted-2: #cbdcec;
      --glass-blur: 18px;
      --ring: 0 0 0 3px rgba(62,232,211,0.35);
      --shadow: 0 0 50px rgba(62, 232, 211, 0.18);
      --radius: 24px;
      --transition-fast: 0.2s ease;
      --transition-slow: 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      --border-color: rgba(255, 255, 255, 0.08);
      --subtle-bg: rgba(255, 255, 255, 0.06);
      --subtle-hover-bg: rgba(255, 255, 255, 0.12);
      --dark-subtle-bg: rgba(0, 0, 0, 0.2);
      --appbar-bg: linear-gradient(to bottom, rgba(0,0,0,.3), rgba(0,0,0,0));
      --toast-bg: rgba(0,0,0,.7);
      --toast-color: #fff;
      --toggle-bg: rgba(255,255,255,0.1);
      --toggle-slider-color: white;
      color-scheme: dark;
    }

    [data-theme="light"] {
      --bg-color: #f8faff;
      --card-color: #ffffff;
      --text-color: #1a202c;
      --muted: #4a5568;
      --muted-2: #718096;
      --accent: #FDD835;
      --accent-2: #FBC02D;
      --accent-rgb: 253, 216, 53;
      --shadow: 0 8px 24px rgba(200, 210, 230, 0.4);
      --border-color: #e2e8f0;
      --subtle-bg: #f1f5f9;
      --subtle-hover-bg: #e2e8f0;
      --dark-subtle-bg: #f1f5f9;
      --appbar-bg: linear-gradient(to bottom, rgba(248, 250, 252, 0.85), rgba(248, 250, 252, 0));
      --toast-bg: #1a202c;
      --toast-color: #ffffff;
      --toggle-bg: #cbd5e1;
      --toggle-slider-color: #fff;
      --ring: 0 0 0 3px rgba(253, 216, 53, 0.4);
      color-scheme: light;
    }

    [data-theme="light"] .card,
    [data-theme="light"] .project-card,
    [data-theme="light"] .section {
      border: 1px solid var(--border-color);
    }

    [data-theme="light"] h1.name {
      background: none;
      -webkit-background-clip: unset;
      -webkit-text-fill-color: var(--text-color);
      text-shadow: none;
      animation: none;
    }

    [data-theme="light"] .local-greeting,
    [data-theme="light"] .local-time {
      color: #2980b9;
    }

    [data-theme="light"] .social-icons a {
      background: var(--subtle-bg);
      color: var(--accent);
      border-color: var(--border-color);
    }

    [data-theme="light"] .social-icons a:hover {
      background: var(--accent);
      color: var(--text-color);
    }

    [data-theme="light"] .tag {
      background-color: rgba(var(--accent-rgb), 0.15);
      color: #b45309;
      border: 1px solid rgba(var(--accent-rgb), 0.4);
      box-shadow: none;
    }

    [data-theme="light"] .back-to-top .icon-btn {
      background: var(--card-color);
      color: var(--text-color);
      border: 1px solid var(--border-color);
    }

    [data-theme="light"] .avatar::before {
      opacity: .6;
    }

    [data-theme="hacker"] {
      --font-main: 'Roboto Mono', monospace;
      --bg-color: #001a00;
      --card-color: rgba(0, 255, 68, 0.05);
      --text-color: #00ff41;
      --muted: #00ff41;
      --muted-2: #00ff41;
      --accent: #00ff41;
      --accent-2: #52ff7a;
      --accent-rgb: 0, 255, 65;
      --shadow: 0 0 20px rgba(0, 255, 65, 0.25);
      --ring: 0 0 0 3px rgba(0,255,65,0.4);
    }

    [data-theme="hacker"] .name,
    [data-theme="hacker"] h2 {
      text-shadow: 0 0 8px var(--accent) !important;
    }

    [data-theme="hacker"] .chip,
    [data-theme="hacker"] .btn {
      border-color: rgba(0,255,65,0.4);
      background: rgba(0,255,65,0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: var(--font-main);
      background-color: var(--bg-color);
      color: var(--text-color);
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg-color); }
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(var(--accent), var(--accent-2));
      border-radius: 8px;
    }

    /* Skip link */
    .skip-link {
      position: absolute;
      left: 8px;
      top: -40px;
      background: var(--accent);
      color: var(--text-color);
      padding: 8px 12px;
      border-radius: 10px;
      transition: top .2s;
      z-index: 1000;
    }
    [data-theme="light"] .skip-link { color: #1a202c; }
    .skip-link:focus {
      top: 8px;
      box-shadow: var(--ring);
      outline: none;
    }

    /* Top app bar */
    .appbar {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(10px);
      background: var(--appbar-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .appbar-inner {
      max-width: 1040px;
      margin: 0 auto;
      padding: .7rem 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .75rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: .6rem;
      font-weight: 700;
      letter-spacing: .5px;
    }

    .brand .dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 12px var(--accent);
      animation: pulse 2s infinite ease-in-out;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.4); opacity: .65; }
    }

    .controls {
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    .btn, .chip {
      appearance: none;
      border: 1px solid var(--border-color);
      background: var(--subtle-bg);
      color: var(--text-color);
      padding: .5rem .75rem;
      border-radius: 12px;
      font-family: inherit;
      font-size: .95rem;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      transition: transform var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
      cursor: pointer;
    }

    .btn:hover {
      background: var(--subtle-hover-bg);
      transform: translateY(-1px);
    }

    .btn:focus-visible {
      outline: none;
      box-shadow: var(--ring);
    }

    .btn[hidden] { display: none !important; }

    .icon-btn {
      padding: .5rem;
      border-radius: 12px;
      width: 40px;
      height: 40px;
      justify-content: center;
    }

    .tagline {
      font-size: .9rem;
      color: var(--muted);
      display: none;
    }

    @media (min-width: 780px) {
      .tagline { display: block; }
    }

    .progress {
      position: fixed;
      top: 0;
      left: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      width: 0%;
      z-index: 60;
      box-shadow: 0 0 12px var(--accent);
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 1.25rem 1rem 3rem;
      text-align: center;
    }

    .card, .project-card, .section {
      background: var(--card-color);
      border-radius: var(--radius);
      padding: 2rem;
      width: 100%;
      max-width: 840px;
      box-shadow: var(--shadow);
      animation: fadeIn .9s var(--transition-slow) both;
      margin: 1.25rem 0;
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
    }

    [data-card-style="glass"] .card,
    [data-card-style="glass"] .project-card,
    [data-card-style="glass"] .section {
      backdrop-filter: blur(var(--glass-blur));
    }

    [data-card-style="solid"] .card,
    [data-card-style="solid"] .project-card,
    [data-card-style="solid"] .section {
      background: var(--subtle-hover-bg);
      backdrop-filter: none;
    }

    [data-card-style="outlined"] .card,
    [data-card-style="outlined"] .project-card,
    [data-card-style="outlined"] .section {
      background: transparent;
      border: 1px solid var(--accent);
      box-shadow: 0 0 20px rgba(var(--accent-rgb), 0.1);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px) scale(.98); }
      to { opacity: 1; transform: none; }
    }

    /* Modern animated border for Profile Card */
    .card[aria-label="Profile"] {
      border: 1px solid transparent;
    }

    .card[aria-label="Profile"]::before {
      content: '';
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      background: conic-gradient(from var(--angle), var(--accent), var(--accent-2) 25%, var(--accent) 50%, var(--muted) 75%, var(--accent));
      animation: spin 4s linear infinite paused;
      z-index: -1;
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .card[aria-label="Profile"]:hover::before {
      animation-play-state: running;
      opacity: 0.35;
    }

    @keyframes spin {
      from { --angle: 0deg; }
      to { --angle: 360deg; }
    }

    /* Avatar + morphing blob */
    .avatar {
      position: relative;
      display: inline-block;
    }

    .avatar .profile-pic {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 1.2rem;
      border: 3px solid var(--accent);
      box-shadow: 0 0 30px var(--accent);
      will-change: transform;
      transition: transform .3s ease;
      position: relative;
      z-index: 1;
    }

    .profile-pic:hover { transform: rotate(-2deg) scale(1.03); }

    .avatar::before {
      content: "";
      position: absolute;
      inset: -18px;
      z-index: 0;
      filter: blur(24px);
      background:
        radial-gradient(40% 40% at 30% 30%, var(--accent), transparent 70%),
        radial-gradient(40% 40% at 70% 70%, var(--accent-2), transparent 70%);
      border-radius: 42% 58% 60% 40% / 38% 42% 58% 62%;
      animation: blobMorph 14s ease-in-out infinite alternate;
      opacity: .9;
    }

    @keyframes blobMorph {
      0% { transform: rotate(0deg) scale(1); border-radius: 42% 58% 60% 40% / 38% 42% 58% 62%; }
      50% { transform: rotate(8deg) scale(1.05); border-radius: 58% 42% 40% 60% / 62% 58% 42% 38%; }
      100% { transform: rotate(-6deg) scale(1.03); border-radius: 48% 52% 55% 45% / 45% 50% 55% 50%; }
    }

    h1.name {
      font-size: 2.4rem;
      margin-bottom: .6rem;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: glow 2.2s ease-in-out infinite alternate, gradientShift 12s ease-in-out infinite alternate;
      background-size: 200% 100%;
      text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15);
    }

    @keyframes glow {
      from { text-shadow: 0 0 6px var(--accent); }
      to { text-shadow: 0 0 18px var(--accent-2); }
    }

    @keyframes gradientShift {
      from { background-position: 0% 50%; }
      to { background-position: 100% 50%; }
    }

    .typewriter {
      font-family: 'Roboto Mono', monospace;
      font-size: 1.05rem;
      height: 1.2rem;
      margin-bottom: 1rem;
      color: var(--muted);
    }

    .local-greeting {
      margin-bottom: .25rem;
      color: var(--muted-2);
      font-size: .95rem;
    }

    .local-time {
      font-size: .9rem;
      color: var(--muted);
      margin-bottom: .8rem;
    }

    .social-icons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin: 1.2rem 0;
    }

    .social-icons a {
      font-size: 1.2rem;
      padding: .8rem;
      border-radius: 50%;
      transition: transform .25s ease, background .25s ease, color .25s ease;
      filter: drop-shadow(0 0 6px rgba(var(--accent-rgb),0.18));
      will-change: transform;
      background: var(--subtle-bg);
      border: 1px solid var(--border-color);
      color: var(--text-color);
    }

    .social-icons a:hover {
      transform: translateY(-3px) scale(1.05);
      background: var(--accent);
      color: #03111e;
    }

    .bio {
      text-align: left;
      margin: 1.4rem 0;
      font-size: 1rem;
      line-height: 1.9;
      color: var(--muted-2);
    }

    /* Skills */
    .skills-wrap {
      display: flex;
      flex-wrap: wrap;
      gap: .6rem;
      justify-content: center;
      margin-top: .8rem;
    }

    .chip i { color: var(--accent); }

    .chip.selected {
      background: rgba(var(--accent-rgb),.16);
      border-color: rgba(var(--accent-rgb),.5);
      color: var(--accent);
    }

    .chip:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    /* GitHub Stats Section */
    .section-title {
      font-size: 2rem;
      color: var(--accent);
      margin: 0 0 1.25rem;
      text-align: center;
      text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15);
    }

    .gh-stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 1rem;
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .gh-stat-item {
      background: var(--dark-subtle-bg);
      padding: 1rem;
      border-radius: 12px;
    }

    .gh-stat-item .count {
      font-size: 2rem;
      font-family: 'Orbitron', sans-serif;
    }

    .gh-stat-item .label {
      font-size: 0.9rem;
      color: var(--muted);
    }

    .gh-repos-list {
      display: grid;
      gap: .75rem;
      text-align: left;
    }

    .gh-repo-item {
      display: flex;
      flex-direction: column;
      background: var(--dark-subtle-bg);
      padding: .9rem 1.1rem;
      border-radius: 12px;
      border: 1px solid var(--border-color);
      transition: transform .2s ease, background .2s ease;
    }

    .gh-repo-item:hover {
      transform: translateY(-2px);
      background: var(--subtle-hover-bg);
    }

    .gh-repo-item a {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 600;
      font-size: 1.05rem;
    }

    .gh-repo-item a:hover { color: var(--accent); }

    .gh-repo-item p {
      font-size: .9rem;
      color: var(--muted);
      margin: .25rem 0 .5rem;
      flex-grow: 1;
    }

    .gh-repo-meta {
      display: flex;
      gap: 1rem;
      font-size: .85rem;
      color: var(--muted-2);
      flex-wrap: wrap;
    }

    .gh-repo-meta span {
      display: inline-flex;
      align-items: center;
      gap: .3rem;
    }

    .gh-loading, .gh-error {
      padding: 2rem;
      text-align: center;
      color: var(--muted);
    }

    .gh-loading .fa-spin { font-size: 2rem; }

    /* Projects */
    .project-title {
      font-size: 2rem;
      color: var(--accent);
      margin: 2.5rem 0 1.25rem;
      text-align: center;
      text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15);
    }

    .projects-head {
      max-width: 940px;
      width: 100%;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: .8rem;
      align-items: center;
    }

    .projects-toolbar {
      display: flex;
      align-items: center;
      gap: .5rem;
      flex-wrap: wrap;
      justify-content: flex-end;
    }

    .search {
      width: 100%;
      background: var(--subtle-bg);
      border: 1px solid var(--border-color);
      color: var(--text-color);
      padding: .8rem 1rem;
      border-radius: 12px;
      outline: none;
      font-family: 'Roboto Mono', monospace;
    }

    .search:focus-visible { box-shadow: var(--ring); }

    .tags-bar {
      display: flex;
      flex-wrap: wrap;
      gap: .5rem;
      margin-top: .5rem;
    }

    .projects-grid {
      width: 100%;
      max-width: 1040px;
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap: 1rem;
      margin: 1rem 0 0;
    }

    .project-card {
      max-width: unset;
      text-align: left;
      transform-style: preserve-3d;
      transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), box-shadow .3s ease;
      position: relative;
    }

    .project-card:hover {
      box-shadow: 0 8px 32px 0 rgba(0,0,0,0.37), var(--shadow);
    }

    .project-card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: radial-gradient(circle at var(--mx, 0) var(--my, 0), rgba(255,255,255,0.1), transparent 60%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }

    [data-theme="light"] .project-card::before {
      background: radial-gradient(circle at var(--mx, 0) var(--my, 0), rgba(0,0,0,0.04), transparent 60%);
    }

    .project-card:hover::before { opacity: 1; }

    .project-card h2 {
      font-size: 1.2rem;
      margin-bottom: .4rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    .project-card p {
      font-size: .98rem;
      color: var(--muted);
      margin-bottom: .9rem;
    }

    .recent-badge {
      font-size: .65rem;
      padding: .2rem .4rem;
      border-radius: 999px;
      background-color: var(--accent-2);
      color: var(--bg-color);
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: .5px;
      animation: pulseBadge 1.8s infinite ease-in-out;
      display: none;
    }

    [data-theme="light"] .recent-badge {
      color: var(--text-color);
    }

    .project-card.is-recent .recent-badge { display: inline-block; }

    @keyframes pulseBadge {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: .85; }
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: .4rem;
      margin-top: .4rem;
    }

    .tag {
      font-size: .75rem;
      padding: .28rem .5rem;
      border-radius: 999px;
      background: linear-gradient(to bottom, rgba(255,255,255,.06), rgba(0,0,0,.06));
      background-color: rgba(var(--accent-rgb),.10);
      color: var(--accent);
      border: 1px solid rgba(var(--accent-rgb),.35);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.12),
        inset 0 -1px 0 rgba(0,0,0,.18),
        0 1px 1.5px rgba(0,0,0,.12);
    }

    .fav-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--subtle-bg);
      border: 1px solid var(--border-color);
      color: #ffd166;
      width: 38px;
      height: 38px;
      border-radius: 10px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 6px rgba(var(--accent-rgb),0.15));
    }

    .fav-btn[aria-pressed="false"] { color: #a1a1aa; }

    .sparkle-container {
      position: absolute;
      width: 1px;
      height: 1px;
      pointer-events: none;
      z-index: 90;
    }

    .sparkle {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: radial-gradient(circle, var(--accent) 0%, var(--accent-2) 70%, transparent 72%);
      transform: translate(-50%, -50%) scale(0);
      animation: sparkle 700ms ease-out forwards;
      filter: drop-shadow(0 0 6px var(--accent));
      will-change: transform, opacity;
    }

    @keyframes sparkle {
      0% { opacity: 1; transform: translate(-50%, -50%) scale(0); }
      60% { opacity: 1; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1); }
      100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(.2); }
    }

    .assist {
      font-size: .85rem;
      color: var(--muted);
    }

    .flex-center {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .6rem;
      flex-wrap: wrap;
    }

    .mt-2 { margin-top: .75rem; }
    .mt-3 { margin-top: 1rem; }
    .mb-0 { margin-bottom: 0; }

    /* Back to top */
    .back-to-top {
      position: fixed;
      bottom: 18px;
      right: 18px;
      z-index: 60;
      opacity: 0;
      transform: translateY(10px);
      pointer-events: none;
      transition: all .25s ease;
    }

    .back-to-top.show {
      opacity: 1;
      transform: none;
      pointer-events: auto;
    }

    .back-to-top .icon-btn {
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #03111e;
      border: none;
      box-shadow: var(--shadow);
    }

    .back-to-top .icon-btn .fa-rocket.animated {
      animation: rocketLaunch 0.5s ease-out;
    }

    @keyframes rocketLaunch {
      0% { transform: translateY(0) rotate(-45deg); opacity: 1; }
      50% { transform: translateY(-30px) rotate(-45deg); opacity: 1; }
      100% { transform: translateY(-80px) rotate(-45deg); opacity: 0; }
    }

    /* Toast */
    .toast {
      position: fixed;
      left: 50%;
      bottom: 24px;
      transform: translate(-50%, 20px);
      background: var(--toast-bg);
      color: var(--toast-color);
      padding: .7rem 1rem;
      border-radius: 12px;
      opacity: 0;
      transition: all .25s ease;
      z-index: 110;
      font-size: .95rem;
      backdrop-filter: blur(6px);
    }

    .toast.show {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    /* Command palette */
    .cmdk {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.5);
      z-index: 80;
      display: none;
      place-items: center;
      padding: 1rem;
      backdrop-filter: blur(4px);
    }

    .cmdk.open { display: grid; }

    .cmdk-dialog {
      width: 100%;
      max-width: 680px;
      background: var(--card-color);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow: hidden;
      backdrop-filter: blur(12px);
    }

    .cmdk-head {
      padding: .75rem;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      gap: .5rem;
      align-items: center;
    }

    .cmdk-input {
      flex: 1;
      background: var(--subtle-bg);
      border: 1px solid var(--border-color);
      color: var(--text-color);
      padding: .7rem .9rem;
      border-radius: 10px;
      outline: none;
      font-family: 'Roboto Mono', monospace;
    }

    .cmdk-list {
      max-height: 320px;
      overflow: auto;
    }

    .cmdk-item {
      padding: .9rem 1rem;
      display: grid;
      grid-template-columns: auto 1fr auto;
      gap: 1rem;
      align-items: center;
      cursor: pointer;
      border-top: 1px solid var(--border-color);
    }

    .cmdk-item:hover,
    .cmdk-item:focus,
    .cmdk-item.active {
      background: var(--subtle-hover-bg);
      outline: none;
    }

    .kbd {
      font-family: 'Roboto Mono', monospace;
      font-size: .8rem;
      color: var(--muted);
    }

    .cmdk-item i { color: var(--accent); width: 20px; text-align: center; }

    /* Project Modal */
    .modal-overlay {
      position: fixed;
      inset: 0;
      z-index: 100;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(8px);
      display: grid;
      place-items: center;
      padding: 1rem;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition-slow);
    }

    .modal-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .modal-dialog {
      background: var(--bg-color);
      border: 1px solid var(--border-color);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      width: 100%;
      max-width: 550px;
      padding: 2rem;
      text-align: center;
      transform: scale(0.95);
      transition: var(--transition-slow);
      position: relative;
    }

    .modal-overlay.open .modal-dialog {
      transform: scale(1);
    }

    .modal-dialog h2 {
      font-size: 1.8rem;
      color: var(--accent);
      margin-bottom: .75rem;
    }

    .modal-dialog p {
      color: var(--muted-2);
      margin-bottom: 1.5rem;
      line-height: 1.7;
    }

    .modal-actions {
      display: flex;
      justify-content: center;
      gap: .75rem;
      flex-wrap: wrap;
    }

    .modal-close {
      position: absolute;
      top: 12px;
      right: 12px;
    }

    /* Sidebar / Productivity Panel */
    .vibe-panel {
      position: fixed;
      top: 0;
      right: -320px;
      width: 300px;
      height: 100%;
      background: var(--card-color);
      backdrop-filter: blur(14px);
      z-index: 101;
      border-left: 1px solid var(--border-color);
      box-shadow: -10px 0 30px rgba(0,0,0,0.25);
      transition: right 0.4s cubic-bezier(0.16, 1, 0.3, 1);
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      overflow-y: auto;
    }

    .vibe-panel.open { right: 0; }

    .vibe-panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .vibe-panel h3 {
      color: var(--accent);
      margin: 0;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      gap: .5rem;
    }

    .vibe-panel h4 {
      font-size: .95rem;
      margin-bottom: .3rem;
      color: var(--muted-2);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .vibe-panel .control-group {
      display: flex;
      flex-direction: column;
      gap: 0.45rem;
      padding: .75rem .8rem;
      border-radius: 14px;
      background: var(--subtle-bg);
      border: 1px solid var(--border-color);
    }

    .vibe-panel label {
      font-size: 0.85rem;
      color: var(--muted-2);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: .5rem;
    }

    .vibe-panel input[type="text"] {
      background: var(--dark-subtle-bg);
      border-radius: 10px;
      border: 1px solid var(--border-color);
      padding: .5rem .6rem;
      color: var(--text-color);
      font-size: .9rem;
      outline: none;
    }

    .vibe-panel input[type="text"]:focus-visible {
      box-shadow: var(--ring);
    }

    .vibe-panel input[type="range"] {
      width: 100%;
    }

    .vibe-panel .btn {
      width: auto;
      justify-content: center;
    }

    .task-list {
      display: flex;
      flex-direction: column;
      gap: .4rem;
      max-height: 180px;
      overflow-y: auto;
    }

    .task-item {
      display: flex;
      align-items: center;
      gap: .5rem;
      font-size: .85rem;
      padding: .3rem .35rem;
      border-radius: 8px;
      background: rgba(0,0,0,0.15);
    }

    .task-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
    }

    .task-item span {
      flex: 1;
      text-align: left;
    }

    .task-item.completed span {
      text-decoration: line-through;
      opacity: .6;
    }

    .task-remove {
      border: none;
      background: transparent;
      color: var(--muted-2);
      cursor: pointer;
      padding: 0;
    }

    .task-input-row {
      display: flex;
      gap: .4rem;
      align-items: center;
    }

    .task-input-row input {
      flex: 1;
    }

    .timer-display {
      font-family: 'Orbitron', system-ui, sans-serif;
      font-size: 1.4rem;
      padding: .4rem .6rem;
      border-radius: 10px;
      background: rgba(0,0,0,0.25);
      letter-spacing: 1px;
      text-align: center;
    }

    .timer-controls {
      display: flex;
      gap: .4rem;
      flex-wrap: wrap;
    }

    .layout-row {
      display: flex;
      gap: .5rem;
      flex-wrap: wrap;
      align-items: center;
    }

    footer {
      margin-top: 2rem;
      font-size: .85rem;
      color: #8899aa;
    }

    /* Reveal on scroll */
    .reveal { opacity: 0; transform: translateY(16px); }
    .reveal.revealed { opacity: 1; transform: none; transition: all .65s ease; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
      html, body, a, button { cursor: default; }
    }

    /* Mobile tweaks */
    @media (max-width: 600px) {
      h1.name { font-size: 2rem; }
      .typewriter { font-size: 1rem; }
      .bio { font-size: .98rem; text-align: center; }
      .appbar-inner { padding: .6rem .75rem; }
      .projects-head { grid-template-columns: 1fr; }
      .vibe-panel { width: 100%; right: -100%; }
    }

    /* Print */
    @media print {
      .appbar, .progress, .social-icons, .back-to-top, .cmdk, .controls, .modal-overlay, #github-stats, .vibe-panel { display: none !important; }
      .card, .section, .project-card { box-shadow: none; border: 1px solid #ddd; }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  <div class="progress" id="progress"></div>

  <!-- App Bar -->
  <header class="appbar" role="banner">
    <div class="appbar-inner">
      <div class="brand" aria-label="Brand">
        <span class="dot" aria-hidden="true"></span>
        <span>Jino Sabu</span>
        <span class="tagline">Mechanical Engineer ‚Ä¢ Frontend Dev ‚Ä¢ AI</span>
      </div>
      <div class="controls" role="toolbar" aria-label="Quick actions">
        <button class="btn icon-btn" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">
          <i class="fa-solid fa-moon"></i>
        </button>
        <button class="btn icon-btn" id="accentBtn" title="Pick accent color" aria-label="Pick accent color">
          <i class="fa-solid fa-palette"></i>
        </button>
        <input type="color" id="accentPicker" hidden aria-label="Accent color picker" />
        <button class="btn" id="cmdkBtn" title="Command palette (Ctrl/Cmd + K)" aria-label="Open command palette">
          <i class="fa-solid fa-terminal"></i><span class="hide-sm"> Command</span>
        </button>
        <button class="btn icon-btn" id="vibeToggleBtn" title="Productivity sidebar" aria-label="Open productivity panel">
          <i class="fa-solid fa-gear"></i>
        </button>
      </div>
    </div>
  </header>

  <main id="main" class="container" role="main">
    <!-- Hero card -->
    <section class="card reveal" aria-label="Profile">
      <div class="avatar">
        <img src="profile.jpg" alt="Portrait of Jino Sabu" class="profile-pic" loading="lazy" decoding="async">
      </div>
      <h1 class="name">Jino Sabu</h1>
      <div class="local-greeting" id="local-greeting">üëã Welcome, friend!</div>
      <div class="local-time" id="local-time" aria-live="polite"></div>
      <div class="typewriter" id="typewriter" aria-live="polite"></div>

      <nav class="social-icons" aria-label="Social links">
        <a href="https://www.github.com/jinosabu1999" target="_blank" aria-label="GitHub" rel="noopener" class="magnetic">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
        <a href="https://www.instagram.com/jinosabu1999" target="_blank" aria-label="Instagram" rel="noopener" class="magnetic">
          <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="https://www.x.com/jinosabu1999" target="_blank" aria-label="X (Twitter)" rel="noopener" class="magnetic">
          <i class="fab fa-x-twitter" aria-hidden="true"></i>
        </a>
        <a href="https://www.youtube.com/@JinoSabu1999" target="_blank" aria-label="YouTube" rel="noopener" class="magnetic">
          <i class="fab fa-youtube" aria-hidden="true"></i>
        </a>
        <a href="https://www.suno.com/@jinosabu1999" target="_blank" aria-label="Suno" rel="noopener" class="magnetic">
          <i class="fas fa-music" aria-hidden="true"></i>
        </a>
        <a href="https://www.pinterest.com/jinosabu1999" target="_blank" aria-label="Pinterest" rel="noopener" class="magnetic">
          <i class="fab fa-pinterest" aria-hidden="true"></i>
        </a>
        <a href="https://www.telegram.me/jinosabu1999" target="_blank" aria-label="Telegram" rel="noopener" class="magnetic">
          <i class="fab fa-telegram" aria-hidden="true"></i>
        </a>
        <a href="https://ko-fi.com/jinosabu1999" target="_blank" aria-label="Ko-fi" rel="noopener" class="magnetic">
          <i class="fas fa-mug-hot" aria-hidden="true"></i>
        </a>
        <a href="https://paypal.me/jinosabu1999" target="_blank" aria-label="PayPal" rel="noopener" class="magnetic">
          <i class="fab fa-paypal" aria-hidden="true"></i>
        </a>
      </nav>

      <div class="bio" id="bio">
        <p class="reveal">üëã Hey there! I‚Äôm Jino Sabu</p>
        <p class="reveal">üí™ Mechanical Engineer by degree</p>
        <p class="reveal">üíª Frontend Developer by passion</p>
        <p class="reveal">üß† AI Enthusiast by obsession</p>
        <p class="bio-more reveal" hidden>üéØ I fuse creativity with code to craft futuristic digital experiences</p>
        <p class="bio-more reveal" hidden>üé® Designing interfaces that feel as good as they function</p>
        <p class="bio-more reveal" hidden>‚öôÔ∏è Engineering smarter systems that just make life easier</p>
        <p class="bio-more reveal" hidden>üå± Always learning. Always building. Always evolving.</p>
        <p class="bio-more reveal" hidden>üöÄ Currently on a mission to blend logic, design & innovation</p>
        <p class="bio-more reveal" hidden>üåå I don‚Äôt just build websites‚ÄîI build vibes</p>
        <p class="bio-more reveal" hidden>üñ§ Living life in dark mode, one pixel at a time</p>
        <p class="bio-more reveal" hidden>‚ú® Here to push limits, break patterns & create magic.</p>
      </div>
      <button id="toggleBio" class="btn mt-2" aria-expanded="false">
        Show More <i class="fa-solid fa-chevron-down"></i>
      </button>

      <div class="flex-center mt-2">
        <a class="btn" href="#projects" aria-label="Jump to projects">
          <i class="fa-solid fa-rocket"></i> Explore Projects
        </a>
      </div>

      <div class="skills-wrap mt-3" aria-label="Tech stack">
        <span class="chip"><i class="fa-brands fa-html5"></i> HTML</span>
        <span class="chip"><i class="fa-brands fa-css3-alt"></i> CSS</span>
        <span class="chip"><i class="fa-brands fa-js"></i> JavaScript</span>
        <span class="chip"><i class="fa-brands fa-react"></i> React</span>
        <span class="chip"><i class="fa-brands fa-node-js"></i> Node</span>
        <span class="chip"><i class="fa-brands fa-figma"></i> Figma</span>
        <span class="chip"><i class="fa-brands fa-git-alt"></i> Git</span>
        <span class="chip"><i class="fa-brands fa-python"></i> Python</span>
      </div>
    </section>

    <!-- GitHub Stats Section -->
    <section class="section reveal" id="github-stats" aria-labelledby="gh-title">
      <h2 class="section-title" id="gh-title">
        <i class="fa-brands fa-github"></i> Real-time GitHub Pulse
      </h2>
      <div id="gh-stats-container">
        <div class="gh-loading">
          <i class="fa-solid fa-spinner fa-spin"></i>
          <p class="mt-2">Fetching latest GitHub stats...</p>
        </div>
      </div>
    </section>

    <!-- Projects -->
    <h2 class="project-title" id="projects">üöÄ Projects</h2>
    <div class="projects-head reveal" aria-label="Project tools">
      <input
        class="search"
        id="projectSearch"
        type="search"
        placeholder="Filter projects by name or tag (e.g., audio, app, editor)..."
        aria-label="Filter projects"
      />
      <div class="projects-toolbar">
        <select class="btn" id="sortSelect" aria-label="Sort projects">
          <option value="az">Sort: A ‚Üí Z</option>
          <option value="za">Sort: Z ‚Üí A</option>
          <option value="newest">Sort: Newest</option>
          <option value="oldest">Sort: Oldest</option>
        </select>
        <button class="btn" id="clearFilter">
          <i class="fa-solid fa-broom"></i> Clear
        </button>
      </div>
      <div class="tags-bar" id="tagsBar" aria-label="Tag filters"></div>
      <div id="projectStats" class="assist" aria-live="polite"></div>
    </div>

    <section class="projects-grid reveal" aria-label="Projects grid" id="projectsGrid">
      <article class="project-card tilt" data-tags="tools,utilities,app,web" data-url="https://v0-multi-tool-app.vercel.app" data-updated="2025-08-28" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite">
          <i class="fa-regular fa-star"></i>
        </button>
        <h2>Multi Tool Kit 2025</h2>
        <p>A Swiss army knife for the web ‚Äì fast, sleek, packed with utilities!</p>
        <div class="tags">
          <span class="tag">Tools</span><span class="tag">Utilities</span><span class="tag">Vite</span>
        </div>
      </article>

      <article class="project-card tilt" data-tags="productivity,tools,ui,app" data-url="https://v0-tooltesseract.vercel.app" data-updated="2025-08-15" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite">
          <i class="fa-regular fa-star"></i>
        </button>
        <h2>ToolTesseract App</h2>
        <p>All your productivity tools in one futuristic interface. Hyper-organized. Hyper-intuitive.</p>
        <div class="tags">
          <span class="tag">Productivity</span><span class="tag">UI</span>
        </div>
      </article>

      <article class="project-card tilt" data-tags="memories,media,app,photos" data-url="https://chronocapsule.vercel.app" data-updated="2025-07-20" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite">
          <i class="fa-regular fa-star"></i>
        </button>
        <h2>Memories App</h2>
        <p>Preserve your moments in a beautiful time capsule. Designed for nostalgia.</p>
        <div class="tags">
          <span class="tag">Media</span><span class="tag">Photos</span>
        </div>
      </article>

      <article class="project-card tilt" data-tags="audio,media,editor,app" data-url="https://v0-audio-cutter-app.vercel.app" data-updated="2025-06-30" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite">
          <i class="fa-regular fa-star"></i>
        </button>
        <h2>Audio Cutter App</h2>
        <p>Cut, trim, and remix audio tracks in seconds. Minimal, smooth, powerful.</p>
        <div class="tags">
          <span class="tag">Audio</span><span class="tag">Editor</span>
        </div>
      </article>

      <article class="project-card tilt" data-tags="code,editor,playground,web" data-url="https://code-editor-by-jino.vercel.app" data-updated="2025-08-01" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite">
          <i class="fa-regular fa-star"></i>
        </button>
        <h2>Code Editor</h2>
        <p>Your personal coding playground. Fast, clean, dark-mode friendly.</p>
        <div class="tags">
          <span class="tag">Editor</span><span class="tag">Playground</span>
        </div>
      </article>
    </section>

    <footer>&copy; <span id="year"></span> Jino Sabu. All rights reserved.</footer>
  </main>

  <!-- Back to top -->
  <div class="back-to-top" id="backToTop" aria-hidden="true">
    <button class="icon-btn" title="Back to top" aria-label="Back to top">
      <i class="fa-solid fa-rocket"></i>
    </button>
  </div>

  <!-- Command Palette -->
  <div class="cmdk" id="cmdk" role="dialog" aria-modal="true" aria-labelledby="cmdkTitle">
    <div class="cmdk-dialog">
      <div class="cmdk-head">
        <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
        <input id="cmdkInput" class="cmdk-input" placeholder="Type a command or search‚Ä¶ (Esc to close)" aria-label="Command input" />
      </div>
      <div class="cmdk-list" id="cmdkList"></div>
    </div>
  </div>

  <!-- Project Modal -->
  <div class="modal-overlay" id="projectModal" role="dialog" aria-modal="true">
    <div class="modal-dialog">
      <button class="btn icon-btn modal-close" aria-label="Close dialog">
        <i class="fa-solid fa-xmark"></i>
      </button>
      <h2 id="modalTitle"></h2>
      <p id="modalDescription"></p>
      <div class="tags" id="modalTags"></div>
      <div class="modal-actions mt-3">
        <a id="modalLink" href="#" target="_blank" rel="noopener" class="btn">
          <i class="fa-solid fa-arrow-up-right-from-square"></i> Visit Project
        </a>
        <button id="modalShare" class="btn">
          <i class="fa-solid fa-share-nodes"></i> Share
        </button>
      </div>
    </div>
  </div>

  <!-- Productivity / Vibe Panel -->
  <div class="vibe-panel" id="vibePanel">
    <div class="vibe-panel-header">
      <h3><i class="fa-solid fa-sliders"></i> Productivity Hub</h3>
      <button class="btn icon-btn" id="vibeCloseBtn" aria-label="Close productivity panel">
        <i class="fa-solid fa-xmark"></i>
      </button>
    </div>

    <!-- Today‚Äôs Focus -->
    <div class="control-group">
      <h4>Today‚Äôs focus</h4>
      <label for="focusInput">Single biggest thing to ship</label>
      <input type="text" id="focusInput" placeholder="eg. Polish ToolTesseract landing page" />
    </div>

    <!-- Quick Tasks -->
    <div class="control-group">
      <h4>Quick tasks</h4>
      <div class="task-list" id="taskList"></div>
      <div class="task-input-row">
        <input type="text" id="taskInput" placeholder="Add a task‚Ä¶" />
        <button class="btn icon-btn" id="addTaskBtn" aria-label="Add task">
          <i class="fa-solid fa-plus"></i>
        </button>
      </div>
    </div>

    <!-- Session Timer -->
    <div class="control-group">
      <h4>Session timer</h4>
      <label for="timerMinutes">Minutes</label>
      <input type="range" id="timerMinutes" min="10" max="60" step="5" value="25" />
      <div class="timer-display" id="timerDisplay">25:00</div>
      <div class="timer-controls">
        <button class="btn" id="timerStart">Start</button>
        <button class="btn" id="timerPause">Pause</button>
        <button class="btn" id="timerReset">Reset</button>
      </div>
    </div>

    <!-- Layout / Vibe (minimal, useful) -->
    <div class="control-group">
      <h4>Layout</h4>
      <div class="layout-row">
        <label for="cardStyleSelect">Card style</label>
        <select id="cardStyleSelect" class="btn">
          <option value="glass">Glass</option>
          <option value="solid">Solid</option>
          <option value="outlined">Outlined</option>
        </select>
      </div>
      <label for="radiusSlider">
        Corner roundness
        <span id="radiusValue">24px</span>
      </label>
      <input type="range" id="radiusSlider" min="4" max="48" value="24" />
      <button class="btn mt-2" id="resetVibeBtn">
        <i class="fa-solid fa-arrow-rotate-left"></i> Reset layout
      </button>
    </div>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    (function() {
      'use strict';

      const $ = (s, r = document) => r.querySelector(s);
      const $$ = (s, r = document) => [...r.querySelectorAll(s)];
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function init() {
        ThemeManager.init();
        UIManager.init();
        GitHubStats.init();
        ProjectSystem.init();
        CommandPalette.init();
        Effects.init();
        Misc.init();
        VibeCustomizer.init();
        ProductivityPanel.init();
      }

      const ThemeManager = {
        themeToggle: null,
        accentBtn: null,
        accentPicker: null,
        html: document.documentElement,
        themeMode: 'auto',
        prefersDark: window.matchMedia('(prefers-color-scheme: dark)'),
        originalTheme: 'auto',

        init() {
          this.themeToggle = $('#themeToggle');
          this.accentBtn = $('#accentBtn');
          this.accentPicker = $('#accentPicker');

          this.themeMode = localStorage.getItem('theme') || 'auto';
          this.originalTheme = this.themeMode;
          this.setTheme(this.themeMode);

          this.prefersDark.addEventListener('change', () => {
            if (this.themeMode === 'auto') this.applyThemeFromSystem();
          });

          this.themeToggle.addEventListener('click', () => this.cycleTheme());

          const savedAccent = localStorage.getItem('accentColor') || '#3ee8d3';
          this.applyAccent(savedAccent);
          this.accentPicker.value = savedAccent;

          this.accentBtn.addEventListener('click', () => this.accentPicker.click());
          this.accentPicker.addEventListener('input', (e) => this.handleAccentChange(e.target.value));
        },

        applyThemeFromSystem() {
          const sysDark = this.prefersDark.matches;
          this.html.setAttribute('data-theme', sysDark ? 'dark' : 'light');
          this.updateMetaThemeColor();
          this.themeToggle.innerHTML = sysDark
            ? '<i class="fa-solid fa-moon"></i>'
            : '<i class="fa-solid fa-sun"></i>';
        },

        setTheme(mode, isTemporary = false) {
          if (!isTemporary) {
            this.themeMode = mode;
            this.originalTheme = mode;
            localStorage.setItem('theme', mode);
          }
          if (mode === 'auto') {
            this.applyThemeFromSystem();
            if (!isTemporary) {
              this.themeToggle.title = 'Theme: Auto';
              this.themeToggle.innerHTML = '<i class="fa-solid fa-circle-half-stroke"></i>';
            }
          } else {
            this.html.setAttribute('data-theme', mode);
            if (!isTemporary) {
              this.themeToggle.title = `Theme: ${mode[0].toUpperCase() + mode.slice(1)}`;
              this.themeToggle.innerHTML =
                mode === 'dark'
                  ? '<i class="fa-solid fa-moon"></i>'
                  : '<i class="fa-solid fa-sun"></i>';
            }
            this.updateMetaThemeColor();
          }
        },

        cycleTheme() {
          const order = ['dark', 'light', 'auto'];
          const next = order[(order.indexOf(this.themeMode) + 1) % order.length];
          this.setTheme(next);
          UIManager.showToast(`Theme: ${next.toUpperCase()}`);
        },

        handleAccentChange(color) {
          this.applyAccent(color);
          localStorage.setItem('accentColor', color);
          UIManager.showToast('Accent updated');
        },

        applyAccent(hex) {
          const rgb = this.hexToRgb(hex);
          this.html.style.setProperty('--accent', hex);
          this.html.style.setProperty('--accent-rgb', `${rgb.r}, ${rgb.g}, ${rgb.b}`);
          this.html.style.setProperty('--accent-2', this.shiftHue(hex, 40));
          this.updateFavicon(hex);
        },

        updateMetaThemeColor() {
          const color = getComputedStyle(document.documentElement).getPropertyValue('--bg-color').trim();
          const meta = document.querySelector('meta[name="theme-color"]');
          if (meta) meta.setAttribute('content', color);
        },

        updateFavicon(bgColor) {
          const getTextColor = (hex) => {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            const luminance = Math.round(((r * 299) + (g * 587) + (b * 114)) / 1000);
            return luminance > 125 ? '#0e1a2b' : '#e6f1ff';
          };
          const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'><rect width='256' height='256' rx='48' fill='${bgColor}'/><text x='50%' y='54%' text-anchor='middle' font-size='120' font-family='Verdana' fill='${getTextColor(bgColor)}'>J</text></svg>`;
          const link = document.querySelector("link[rel='icon']");
          if (link) link.setAttribute('href', `data:image/svg+xml,${encodeURIComponent(svg)}`);
        },

        hexToRgb(hex) {
          let r = 0, g = 0, b = 0;
          hex = hex.replace('#', '');
          if (hex.length === 3) {
            r = parseInt(hex[0] + hex[0], 16);
            g = parseInt(hex[1] + hex[1], 16);
            b = parseInt(hex[2] + hex[2], 16);
          } else if (hex.length === 6) {
            r = parseInt(hex.substring(0, 2), 16);
            g = parseInt(hex.substring(2, 4), 16);
            b = parseInt(hex.substring(4, 6), 16);
          }
          return { r, g, b };
        },

        shiftHue(h, d) {
          const { H, S, L } = this.hexToHsl(h);
          return this.hslToHex((H + d) % 360, S, L);
        },

        hexToHsl(H) {
          let r = 0, g = 0, b = 0;
          H = H.replace("#","");

          if (H.length === 3) {
            r = parseInt(H[0] + H[0],16);
            g = parseInt(H[1] + H[1],16);
            b = parseInt(H[2] + H[2],16);
          } else {
            r = parseInt(H[0] + H[1],16);
            g = parseInt(H[2] + H[3],16);
            b = parseInt(H[4] + H[5],16);
          }

          r /= 255;
          g /= 255;
          b /= 255;

          const cmin = Math.min(r,g,b);
          const cmax = Math.max(r,g,b);
          const delta = cmax - cmin;
          let h = 0, s = 0, l = 0;

          if (delta === 0) h = 0;
          else if (cmax === r) h = ((g - b) / delta) % 6;
          else if (cmax === g) h = (b - r) / delta + 2;
          else h = (r - g) / delta + 4;

          h = Math.round(h * 60);
          if (h < 0) h += 360;

          l = (cmax + cmin) / 2;
          s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
          s = Math.round(s * 100);
          l = Math.round(l * 100);

          return { H: h, S: s, L: l };
        },

        hslToHex(h, s, l) {
          s /= 100;
          l /= 100;
          const k = n => (n + h / 30) % 12;
          const a = s * Math.min(l, 1 - l);
          const f = n => l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));
          const toHex = x => Math.round(x * 255).toString(16).padStart(2, "0");
          return `#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`;
        }
      };

      const UIManager = {
        toast: null,
        toastTimer: null,
        lastActiveElement: null,
        openedModals: new Set(),

        init() {
          this.toast = $('#toast');
          this.initTypewriter();
          this.initBioToggle();
          this.initLocalInfo();
          this.initProjectModal();
          this.initSmoothScroll();
        },

        showToast(msg) {
          clearTimeout(this.toastTimer);
          this.toast.textContent = msg;
          this.toast.classList.add('show');
          this.toastTimer = setTimeout(() => this.toast.classList.remove('show'), 2200);
        },

        initSmoothScroll() {
          const link = $('a.btn[href="#projects"]');
          if (!link) return;
          link.addEventListener('click', (e) => {
            e.preventDefault();
            const targetElement = $('#projects');
            if (targetElement) targetElement.scrollIntoView({ behavior: 'smooth' });
          });
        },

        initTypewriter() {
          const roles = ["Mechanical Engineer", "Frontend Developer", "AI Enthusiast"];
          let i = 0, j = 0, isDeleting = false, hold = 0;
          const el = $("#typewriter");
          if (!el) return;

          const typeEffect = () => {
            const speed = isDeleting ? 50 : 110;
            const pause = 900;
            const word = roles[i];

            if (!isDeleting) {
              el.textContent = word.slice(0, j++);
              if (j > word.length) {
                hold++;
                if (hold * speed > pause) {
                  isDeleting = true;
                  hold = 0;
                }
              }
            } else {
              el.textContent = word.slice(0, j--);
              if (j < 0) {
                isDeleting = false;
                i = (i + 1) % roles.length;
              }
            }

            if (!prefersReducedMotion) {
              setTimeout(typeEffect, speed);
            } else {
              el.textContent = roles[1];
            }
          };

          typeEffect();
        },

        initBioToggle() {
          const btn = $('#toggleBio');
          if (!btn) return;
          btn.addEventListener('click', () => {
            const isExpanded = btn.getAttribute('aria-expanded') === 'true';
            $$('.bio-more').forEach(item => item.hidden = !item.hidden);
            btn.setAttribute('aria-expanded', !isExpanded);
            btn.innerHTML = !isExpanded
              ? 'Show Less <i class="fa-solid fa-chevron-up"></i>'
              : 'Show More <i class="fa-solid fa-chevron-down"></i>';
          });
        },

        initLocalInfo() {
          fetch("https://ipapi.co/json")
            .then(r => r.json())
            .then(data => {
              $("#local-greeting").textContent = `üëã Greetings from ${data.country_name || "your place"}!`;
              const tickTime = () => {
                const options = { hour: '2-digit', minute: '2-digit', hour12: false };
                if (data.timezone) options.timeZone = data.timezone;
                const now = new Date();
                const timeString = new Intl.DateTimeFormat('default', options).format(now);
                const hh = new Date().getHours();
                const greeting = hh < 12 ? "‚òÄÔ∏è Good morning" : hh < 18 ? "üå§Ô∏è Good afternoon" : "üåô Good evening";
                $("#local-time").textContent = `${greeting} ‚Äî your local time is ${timeString}${data.timezone ? ` (${data.timezone.split('/')[1].replace(/_/g, ' ')} Time)` : ''}`;
              };
              tickTime();
              setInterval(tickTime, 30000);
            })
            .catch(() => {
              $("#local-greeting").textContent = "üëã Welcome, friend from around the globe!";
              const tickTimeFallback = () => {
                const now = new Date();
                const hh = now.getHours().toString().padStart(2, '0');
                const mm = now.getMinutes().toString().padStart(2, '0');
                const greeting = now.getHours() < 12 ? "‚òÄÔ∏è Good morning" : now.getHours() < 18 ? "üå§Ô∏è Good afternoon" : "üåô Good evening";
                $("#local-time").textContent = `${greeting} ‚Äî your local time is ${hh}:${mm}`;
              };
              tickTimeFallback();
              setInterval(tickTimeFallback, 30000);
            });
        },

        initProjectModal() {
          const modal = $('#projectModal');
          if (!modal) return;

          $('#projectsGrid').addEventListener('click', e => {
            const card = e.target.closest('.project-card');
            if (card && !e.target.closest('.fav-btn')) this.openProjectModal(card);
          });

          $('#projectsGrid').addEventListener('keydown', e => {
            const card = e.target.closest('.project-card');
            if (card && (e.key === 'Enter' || e.key === ' ') && !e.target.closest('.fav-btn')) {
              e.preventDefault();
              this.openProjectModal(card);
            }
          });

          modal.addEventListener('click', e => {
            if (e.target === modal || e.target.closest('.modal-close')) this.closeProjectModal();
          });

          document.addEventListener('keydown', e => {
            if (e.key === 'Escape' && modal.classList.contains('open')) this.closeProjectModal();
          });
        },

        openProjectModal(card) {
          this.lastActiveElement = document.activeElement;
          const modal = $('#projectModal');

          $('#modalTitle').textContent = card.querySelector('h2').textContent;
          $('#modalDescription').textContent = card.querySelector('p').textContent;
          $('#modalLink').href = card.dataset.url;

          const tagsContainer = $('#modalTags');
          tagsContainer.innerHTML = '';
          card.querySelectorAll('.tag').forEach(tag => tagsContainer.appendChild(tag.cloneNode(true)));

          const projectInfo = {
            title: card.querySelector('h2').textContent,
            text: card.querySelector('p').textContent,
            url: card.dataset.url
          };

          const shareBtn = $('#modalShare');
          if (navigator.share) {
            shareBtn.style.display = 'inline-flex';
            shareBtn.onclick = () => navigator.share(projectInfo).catch(() => {});
          } else {
            shareBtn.style.display = 'none';
          }

          modal.classList.add('open');
          this.trapFocus(modal);
        },

        closeProjectModal() {
          $('#projectModal').classList.remove('open');
          if (this.lastActiveElement) this.lastActiveElement.focus();
        },

        trapFocus(modal) {
          const focusableElements = $$('button, a[href]', modal);
          if (!focusableElements.length) return;

          const firstElement = focusableElements[0];
          const lastElement = focusableElements[focusableElements.length - 1];

          firstElement.focus();

          modal.addEventListener('keydown', (e) => {
            if (e.key !== 'Tab') return;
            if (e.shiftKey) {
              if (document.activeElement === firstElement) {
                lastElement.focus();
                e.preventDefault();
              }
            } else {
              if (document.activeElement === lastElement) {
                firstElement.focus();
                e.preventDefault();
              }
            }
          });
        }
      };

      const GitHubStats = {
        username: 'jinosabu1999',
        container: null,

        async init() {
          this.container = $('#gh-stats-container');
          if (!this.container) return;
          try {
            const repos = await this.fetchAllRepos();
            if (!repos || repos.length === 0) throw new Error("No repositories found.");
            const totalStars = repos.reduce((sum, repo) => sum + repo.stargazers_count, 0);
            const totalForks = repos.reduce((sum, repo) => sum + repo.forks_count, 0);
            const topRepos = repos
              .filter(repo => !repo.fork)
              .sort((a, b) => b.stargazers_count - a.stargazers_count)
              .slice(0, 3);

            this.renderStats({
              repoCount: repos.filter(r => !r.fork).length,
              starCount: totalStars,
              forkCount: totalForks,
              topRepos
            });
          } catch (error) {
            this.renderError(error.message);
          }
        },

        async fetchAllRepos() {
          let allRepos = [];
          let page = 1;
          let hasMore = true;
          const baseUrl = `https://api.github.com/users/${this.username}/repos?per_page=100&sort=pushed&page=`;

          while (hasMore) {
            const response = await fetch(baseUrl + page);
            if (!response.ok) throw new Error(`API request failed: ${response.statusText}`);
            const repos = await response.json();
            if (repos.length < 100) hasMore = false;
            allRepos = allRepos.concat(repos);
            page++;
          }

          return allRepos;
        },

        renderStats(stats) {
          this.container.innerHTML = `
            <div class="gh-stats-grid">
              <div class="gh-stat-item">
                <div class="count">${stats.repoCount}</div>
                <div class="label">Repositories</div>
              </div>
              <div class="gh-stat-item">
                <div class="count">${stats.starCount}</div>
                <div class="label">Total Stars</div>
              </div>
              <div class="gh-stat-item">
                <div class="count">${stats.forkCount}</div>
                <div class="label">Total Forks</div>
              </div>
            </div>
            <h3 class="section-title" style="font-size: 1.5rem; margin-top: 2rem;">Top Repositories</h3>
            <div class="gh-repos-list">
              ${stats.topRepos.map(repo => `
                <div class="gh-repo-item">
                  <a href="${repo.html_url}" target="_blank" rel="noopener">${repo.name}</a>
                  <p>${repo.description || 'No description.'}</p>
                  <div class="gh-repo-meta">
                    <span><i class="fa-solid fa-star"></i> ${repo.stargazers_count}</span>
                    <span><i class="fa-solid fa-code-fork"></i> ${repo.forks_count}</span>
                    ${repo.language ? `<span><i class="fa-solid fa-code"></i> ${repo.language}</span>` : ''}
                  </div>
                </div>
              `).join('')}
            </div>
          `;
        },

        renderError(message) {
          this.container.innerHTML = `
            <div class="gh-error">
              <i class="fa-solid fa-triangle-exclamation"></i>
              <p class="mt-2">Could not fetch GitHub stats.</p>
              <small>${message}</small>
            </div>
          `;
        }
      };

      const ProjectSystem = {
        cards: [],
        favorites: new Set(),
        activeTags: new Set(),
        favoritesOnly: false,
        searchInput: null,
        tagBar: null,
        sortSelect: null,
        clearBtn: null,
        statsEl: null,

        init() {
          this.cards = $$('.project-card');
          this.searchInput = $('#projectSearch');
          this.tagBar = $('#tagsBar');
          this.sortSelect = $('#sortSelect');
          this.clearBtn = $('#clearFilter');
          this.statsEl = $('#projectStats');

          this.favorites = new Set(JSON.parse(localStorage.getItem('favorites') || '[]'));

          this.cards.forEach((card, i) => {
            const title = card.querySelector('h2').textContent.trim();
            const id = title.toLowerCase().replace(/[^a-z0-9]+/g, '-');
            card.dataset.id = id;
            card.style.setProperty('--delay', `${i * 50}ms`);

            const favBtn = card.querySelector('.fav-btn');
            this.setFavBtn(favBtn, this.favorites.has(id));
            favBtn.addEventListener('click', e => {
              e.stopPropagation();
              this.toggleFavorite(id, favBtn);
            });

            this.handleRecentBadge(card);
          });

          this.buildTagChips();
          this.addEventListeners();
          this.filterAndSort();
        },

        handleRecentBadge(card) {
          const titleElement = card.querySelector('h2');
          const badge = document.createElement('span');
          badge.className = 'recent-badge';
          badge.textContent = 'Updated';
          titleElement.appendChild(badge);

          const updatedDateStr = card.dataset.updated;
          if (updatedDateStr) {
            const updatedDate = new Date(updatedDateStr);
            const today = new Date();
            const diffDays = (today - updatedDate) / (1000 * 60 * 60 * 24);
            if (diffDays <= 30) {
              card.classList.add('is-recent');
            }
          }
        },

        toggleFavorite(id, btn) {
          if (this.favorites.has(id)) {
            this.favorites.delete(id);
          } else {
            this.favorites.add(id);
          }
          this.setFavBtn(btn, this.favorites.has(id));
          localStorage.setItem('favorites', JSON.stringify(Array.from(this.favorites)));
          UIManager.showToast(this.favorites.has(id) ? 'Added to favorites' : 'Removed from favorites');

          if (this.favorites.has(id)) Effects.spawnSparkles(btn);
          this.updateStats();
        },

        setFavBtn(btn, active) {
          btn.setAttribute('aria-pressed', String(active));
          btn.innerHTML = active
            ? '<i class="fa-solid fa-star"></i>'
            : '<i class="fa-regular fa-star"></i>';
        },

        buildTagChips() {
          const tagSet = new Set(['‚≠ê Favorites']);
          this.cards.forEach(card => {
            const tags = card.dataset.tags.split(',');
            tags.forEach(tag => tagSet.add(tag.trim()));
          });

          this.tagBar.innerHTML = '';
          tagSet.forEach(tag => {
            const chip = document.createElement('button');
            chip.className = 'chip';
            chip.type = 'button';
            chip.textContent = tag;
            chip.dataset.tag = tag;
            chip.addEventListener('click', () => this.toggleTag(tag, chip));
            this.tagBar.appendChild(chip);
          });
        },

        toggleTag(tag, chip) {
          if (tag === '‚≠ê Favorites') {
            this.favoritesOnly = !this.favoritesOnly;
            chip.classList.toggle('selected', this.favoritesOnly);
          } else {
            if (this.activeTags.has(tag)) this.activeTags.delete(tag);
            else this.activeTags.add(tag);
            chip.classList.toggle('selected', this.activeTags.has(tag));
          }
          this.filterAndSort();
        },

        addEventListeners() {
          this.searchInput.addEventListener('input', () => this.filterAndSort());
          this.sortSelect.addEventListener('change', () => this.filterAndSort());
          this.clearBtn.addEventListener('click', () => {
            this.searchInput.value = '';
            this.activeTags.clear();
            this.favoritesOnly = false;
            $$('.chip', this.tagBar).forEach(chip => chip.classList.remove('selected'));
            this.filterAndSort();
          });

          // tilt / cursor glow
          this.cards.forEach(card => {
            card.addEventListener('pointermove', e => {
              const rect = card.getBoundingClientRect();
              const x = e.clientX - rect.left;
              const y = e.clientY - rect.top;
              const mx = (x / rect.width) * 100;
              const my = (y / rect.height) * 100;
              card.style.setProperty('--mx', `${mx}%`);
              card.style.setProperty('--my', `${my}%`);
            });
            card.addEventListener('pointerleave', () => {
              card.style.setProperty('--mx', `50%`);
              card.style.setProperty('--my', `50%`);
            });
          });
        },

        filterAndSort() {
          const searchQuery = this.searchInput.value.trim().toLowerCase();

          let visibleCount = 0;
          this.cards.forEach(card => {
            const title = card.querySelector('h2').textContent.toLowerCase();
            const tags = card.dataset.tags.toLowerCase();

            const matchesSearch =
              !searchQuery ||
              title.includes(searchQuery) ||
              tags.includes(searchQuery);

            const cardTags = card.dataset.tags.split(',').map(t => t.trim());
            const matchesTags =
              this.activeTags.size === 0 ||
              cardTags.some(tag => this.activeTags.has(tag));

            const id = card.dataset.id;
            const isFav = this.favorites.has(id);
            const matchesFav = !this.favoritesOnly || isFav;

            const shouldShow = matchesSearch && matchesTags && matchesFav;
            card.style.display = shouldShow ? '' : 'none';
            if (shouldShow) visibleCount++;
          });

          const sortedCards = this.getSortedCards();
          const grid = $('#projectsGrid');
          sortedCards.forEach(card => grid.appendChild(card));

          this.updateStats(visibleCount);
        },

        getSortedCards() {
          const cardsArray = this.cards.slice();
          const sortMode = this.sortSelect.value;

          cardsArray.sort((a, b) => {
            const titleA = a.querySelector('h2').textContent.toLowerCase();
            const titleB = b.querySelector('h2').textContent.toLowerCase();
            const dateA = new Date(a.dataset.updated);
            const dateB = new Date(b.dataset.updated);

            switch (sortMode) {
              case 'az':
                return titleA.localeCompare(titleB);
              case 'za':
                return titleB.localeCompare(titleA);
              case 'newest':
                return dateB - dateA;
              case 'oldest':
                return dateA - dateB;
              default:
                return 0;
            }
          });

          return cardsArray;
        },

        updateStats(visibleCount = null) {
          if (visibleCount === null) {
            visibleCount = this.cards.filter(card => card.style.display !== 'none').length;
          }
          const total = this.cards.length;
          const favCount = this.favorites.size;
          this.statsEl.textContent = `${visibleCount} / ${total} projects visible ‚Ä¢ ${favCount} favorites pinned`;
        }
      };

      const CommandPalette = {
        overlay: null,
        input: null,
        list: null,
        openBtn: null,
        commands: [],
        activeIndex: 0,

        init() {
          this.overlay = $('#cmdk');
          this.input = $('#cmdkInput');
          this.list = $('#cmdkList');
          this.openBtn = $('#cmdkBtn');

          this.buildCommands();
          this.render();

          this.openBtn.addEventListener('click', () => this.open());
          document.addEventListener('keydown', (e) => {
            if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {
              e.preventDefault();
              this.toggle();
            } else if (e.key === 'Escape' && this.overlay.classList.contains('open')) {
              this.close();
            }
          });

          this.input.addEventListener('input', () => this.render());
          this.list.addEventListener('click', (e) => {
            const item = e.target.closest('.cmdk-item');
            if (!item) return;
            const index = Number(item.dataset.index);
            this.runCommand(this.filteredCommands()[index]);
          });

          this.overlay.addEventListener('keydown', (e) => {
            const cmds = this.filteredCommands();
            if (!cmds.length) return;
            if (e.key === 'ArrowDown') {
              e.preventDefault();
              this.activeIndex = (this.activeIndex + 1) % cmds.length;
              this.updateActiveItem();
            } else if (e.key === 'ArrowUp') {
              e.preventDefault();
              this.activeIndex = (this.activeIndex - 1 + cmds.length) % cmds.length;
              this.updateActiveItem();
            } else if (e.key === 'Enter') {
              e.preventDefault();
              this.runCommand(cmds[this.activeIndex]);
            }
          });
        },

        buildCommands() {
          this.commands = [
            {
              icon: 'fa-rocket',
              title: 'Jump to Projects',
              subtitle: '#projects ‚Ä¢ Scroll to projects section',
              kbd: 'G P',
              action: () => document.querySelector('#projects').scrollIntoView({ behavior: 'smooth' })
            },
            {
              icon: 'fa-github',
              title: 'Open GitHub',
              subtitle: 'github.com/jinosabu1999',
              kbd: 'G H',
              action: () => window.open('https://github.com/jinosabu1999', '_blank')
            },
            {
              icon: 'fa-envelope',
              title: 'Copy email',
              subtitle: 'Copy contact email to clipboard',
              kbd: 'C E',
              action: async () => {
                await navigator.clipboard.writeText('jinosabu1999@gmail.com');
                UIManager.showToast('Email copied to clipboard');
              }
            },
            {
              icon: 'fa-sun',
              title: 'Toggle theme',
              subtitle: 'Dark / Light / Auto',
              kbd: 'T T',
              action: () => ThemeManager.cycleTheme()
            },
            {
              icon: 'fa-gear',
              title: 'Open Productivity Hub',
              subtitle: 'Tasks, focus, timer',
              kbd: 'G S',
              action: () => ProductivityPanel.open()
            }
          ];
        },

        filteredCommands() {
          const q = this.input.value.trim().toLowerCase();
          if (!q) return this.commands;
          return this.commands.filter(cmd =>
            cmd.title.toLowerCase().includes(q) ||
            cmd.subtitle.toLowerCase().includes(q)
          );
        },

        render() {
          const cmds = this.filteredCommands();
          this.activeIndex = 0;
          this.list.innerHTML = '';
          if (!cmds.length) {
            this.list.innerHTML = '<div class="cmdk-item"><span>No commands found.</span></div>';
            return;
          }

          cmds.forEach((cmd, idx) => {
            const item = document.createElement('button');
            item.type = 'button';
            item.className = 'cmdk-item';
            item.dataset.index = idx;
            if (idx === this.activeIndex) item.classList.add('active');
            item.innerHTML = `
              <i class="fa-solid ${cmd.icon}" aria-hidden="true"></i>
              <div>
                <div>${cmd.title}</div>
                <div class="assist">${cmd.subtitle}</div>
              </div>
              <div class="kbd">${cmd.kbd}</div>
            `;
            this.list.appendChild(item);
          });
        },

        updateActiveItem() {
          const items = $$('.cmdk-item', this.list);
          items.forEach((item, i) => item.classList.toggle('active', i === this.activeIndex));
          const active = items[this.activeIndex];
          if (active) active.scrollIntoView({ block: 'nearest' });
        },

        runCommand(cmd) {
          if (!cmd) return;
          this.close();
          cmd.action();
        },

        open() {
          this.overlay.classList.add('open');
          this.input.value = '';
          this.render();
          this.input.focus();
        },

        close() {
          this.overlay.classList.remove('open');
        },

        toggle() {
          if (this.overlay.classList.contains('open')) this.close();
          else this.open();
        }
      };

      const Effects = {
        init() {
          this.initReveal();
        },

        initReveal() {
          const observer = new IntersectionObserver(
            entries => entries.forEach(entry => {
              if (entry.isIntersecting) {
                entry.target.classList.add('revealed');
                observer.unobserve(entry.target);
              }
            }),
            { threshold: 0.1 }
          );
          $$('.reveal').forEach(el => observer.observe(el));
        },

        spawnSparkles(target, count = 10) {
          if (prefersReducedMotion) return;
          const rect = target.getBoundingClientRect();
          const container = document.createElement('div');
          container.className = 'sparkle-container';
          container.style.left = `${rect.left + rect.width / 2 + window.scrollX}px`;
          container.style.top = `${rect.top + rect.height / 2 + window.scrollY}px`;
          document.body.appendChild(container);

          for (let i = 0; i < count; i++) {
            const s = document.createElement('span');
            const angle = Math.random() * Math.PI * 2;
            const dist = Math.random() * 28;
            s.className = 'sparkle';
            s.style.setProperty('--dx', `${Math.cos(angle) * dist}px`);
            s.style.setProperty('--dy', `${Math.sin(angle) * dist}px`);
            container.appendChild(s);
          }

          setTimeout(() => container.remove(), 800);
        }
      };

      const VibeCustomizer = {
        panel: null,
        toggleBtn: null,
        closeBtn: null,
        defaults: {
          cardStyle: 'glass',
          radius: '24'
        },

        init() {
          this.panel = $('#vibePanel');
          this.toggleBtn = $('#vibeToggleBtn');
          this.closeBtn = $('#vibeCloseBtn');

          this.toggleBtn.addEventListener('click', () => this.togglePanel());
          this.closeBtn.addEventListener('click', () => this.togglePanel());
          document.addEventListener('keydown', e => {
            if (e.key === 'Escape' && this.panel.classList.contains('open')) this.togglePanel();
          });

          this.loadSettings();
          this.addEventListeners();
        },

        togglePanel() {
          this.panel.classList.toggle('open');
        },

        addEventListeners() {
          const cardStyleSelect = $('#cardStyleSelect');
          const radiusSlider = $('#radiusSlider');
          const resetBtn = $('#resetVibeBtn');

          cardStyleSelect.addEventListener('input', () => this.handleCardStyleChange(cardStyleSelect.value));
          radiusSlider.addEventListener('input', () => this.handleRadiusChange(radiusSlider.value));
          resetBtn.addEventListener('click', () => this.resetSettings());
        },

        handleCardStyleChange(value) {
          document.documentElement.setAttribute('data-card-style', value);
          this.saveSettings();
        },

        handleRadiusChange(value) {
          document.documentElement.style.setProperty('--radius', value + 'px');
          $('#radiusValue').textContent = `${value}px`;
          this.saveSettings();
        },

        loadSettings() {
          const stored = JSON.parse(localStorage.getItem('vibeSettings') || '{}');
          const settings = Object.assign({}, this.defaults, stored);

          const cardStyleSelect = $('#cardStyleSelect');
          const radiusSlider = $('#radiusSlider');

          if (settings.cardStyle) {
            cardStyleSelect.value = settings.cardStyle;
            document.documentElement.setAttribute('data-card-style', settings.cardStyle);
          }

          if (settings.radius) {
            radiusSlider.value = settings.radius;
            document.documentElement.style.setProperty('--radius', settings.radius + 'px');
            $('#radiusValue').textContent = `${settings.radius}px`;
          }
        },

        saveSettings() {
          const cardStyle = $('#cardStyleSelect').value;
          const radius = $('#radiusSlider').value;
          const settings = { cardStyle, radius };
          localStorage.setItem('vibeSettings', JSON.stringify(settings));
        },

        resetSettings() {
          localStorage.removeItem('vibeSettings');
          this.loadSettings();
          UIManager.showToast('Layout reset to default');
        }
      };

      const ProductivityPanel = {
        focusInput: null,
        taskInput: null,
        taskListEl: null,
        addTaskBtn: null,
        timerSlider: null,
        timerDisplay: null,
        startBtn: null,
        pauseBtn: null,
        resetBtn: null,
        timerInterval: null,
        remainingSeconds: 25 * 60,
        isRunning: false,

        init() {
          this.focusInput = $('#focusInput');
          this.taskInput = $('#taskInput');
          this.taskListEl = $('#taskList');
          this.addTaskBtn = $('#addTaskBtn');
          this.timerSlider = $('#timerMinutes');
          this.timerDisplay = $('#timerDisplay');
          this.startBtn = $('#timerStart');
          this.pauseBtn = $('#timerPause');
          this.resetBtn = $('#timerReset');

          this.loadFocus();
          this.loadTasks();
          this.updateTimerDisplay();

          this.focusInput.addEventListener('input', () => this.saveFocus());

          this.addTaskBtn.addEventListener('click', () => this.addTaskFromInput());
          this.taskInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') this.addTaskFromInput();
          });

          this.timerSlider.addEventListener('input', () => this.handleTimerSliderChange());
          this.startBtn.addEventListener('click', () => this.startTimer());
          this.pauseBtn.addEventListener('click', () => this.pauseTimer());
          this.resetBtn.addEventListener('click', () => this.resetTimer());
        },

        open() {
          $('#vibePanel').classList.add('open');
        },

        saveFocus() {
          localStorage.setItem('focusText', this.focusInput.value);
        },

        loadFocus() {
          const saved = localStorage.getItem('focusText') || '';
          this.focusInput.value = saved;
        },

        getTasks() {
          return JSON.parse(localStorage.getItem('sideTasks') || '[]');
        },

        saveTasks(tasks) {
          localStorage.setItem('sideTasks', JSON.stringify(tasks));
        },

        renderTasks() {
          const tasks = this.getTasks();
          this.taskListEl.innerHTML = '';
          tasks.forEach(task => {
            const item = document.createElement('div');
            item.className = 'task-item';
            if (task.done) item.classList.add('completed');

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.checked = task.done;
            checkbox.addEventListener('change', () => this.toggleTask(task.id));

            const span = document.createElement('span');
            span.textContent = task.text;

            const removeBtn = document.createElement('button');
            removeBtn.className = 'task-remove';
            removeBtn.innerHTML = '<i class="fa-solid fa-xmark"></i>';
            removeBtn.addEventListener('click', () => this.removeTask(task.id));

            item.appendChild(checkbox);
            item.appendChild(span);
            item.appendChild(removeBtn);
            this.taskListEl.appendChild(item);
          });
        },

        loadTasks() {
          this.renderTasks();
        },

        addTaskFromInput() {
          const text = this.taskInput.value.trim();
          if (!text) return;
          const tasks = this.getTasks();
          tasks.push({
            id: Date.now(),
            text,
            done: false
          });
          this.saveTasks(tasks);
          this.taskInput.value = '';
          this.renderTasks();
        },

        toggleTask(id) {
          const tasks = this.getTasks().map(task =>
            task.id === id ? { ...task, done: !task.done } : task
          );
          this.saveTasks(tasks);
          this.renderTasks();
        },

        removeTask(id) {
          const tasks = this.getTasks().filter(task => task.id !== id);
          this.saveTasks(tasks);
          this.renderTasks();
        },

        handleTimerSliderChange() {
          if (this.isRunning) return;
          const minutes = Number(this.timerSlider.value);
          this.remainingSeconds = minutes * 60;
          this.updateTimerDisplay();
        },

        updateTimerDisplay() {
          const m = Math.floor(this.remainingSeconds / 60).toString().padStart(2, '0');
          const s = (this.remainingSeconds % 60).toString().padStart(2, '0');
          this.timerDisplay.textContent = `${m}:${s}`;
        },

        startTimer() {
          if (this.isRunning) return;
          this.isRunning = true;
          this.timerInterval = setInterval(() => {
            if (this.remainingSeconds > 0) {
              this.remainingSeconds--;
              this.updateTimerDisplay();
            } else {
              this.finishTimer();
            }
          }, 1000);
        },

        pauseTimer() {
          this.isRunning = false;
          clearInterval(this.timerInterval);
        },

        resetTimer() {
          this.pauseTimer();
          const minutes = Number(this.timerSlider.value);
          this.remainingSeconds = minutes * 60;
          this.updateTimerDisplay();
        },

        finishTimer() {
          this.pauseTimer();
          UIManager.showToast('Session complete! üî•');
          Effects.spawnSparkles(this.timerDisplay, 16);
        }
      };

      const Misc = {
        init() {
          this.initScrollProgress();
          $('#year').textContent = new Date().getFullYear();
        },

        initScrollProgress() {
          const progress = $('#progress');
          const backToTop = $('#backToTop');
          const rocketIcon = backToTop.querySelector('.fa-rocket');

          const onScroll = () => {
            const h = document.documentElement;
            if (h.scrollHeight <= h.clientHeight) return;
            const scrolled = (h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100;
            progress.style.width = scrolled + '%';

            if (h.scrollTop > 300) {
              backToTop.classList.add('show');
            } else {
              backToTop.classList.remove('show');
            }
          };

          document.addEventListener('scroll', onScroll, { passive: true });
          onScroll();

          backToTop.addEventListener('click', () => {
            document.documentElement.scrollTo({ top: 0, behavior: 'smooth' });
            rocketIcon.classList.add('animated');
            setTimeout(() => rocketIcon.classList.remove('animated'), 500);
          });
        }
      };

      document.addEventListener('DOMContentLoaded', init);
    })();
  </script>
</body>
</html>
