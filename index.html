<!DOCTYPE html>
<html lang="en" data-theme="dark" data-card-style="glass">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jino Sabu | Connect With Me</title>

  <!-- SEO + Social -->
  <meta name="description" content="Jino Sabu ‚Äî Mechanical Engineer, Frontend Developer, and AI Enthusiast crafting futuristic digital experiences." />
  <meta name="keywords" content="Jino Sabu, frontend developer, mechanical engineer, AI enthusiast, portfolio, projects" />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#0e1a2b" />
  <meta property="og:title" content="Jino Sabu | Connect With Me" />
  <meta property="og:description" content="I don‚Äôt just build websites‚ÄîI build vibes. Explore projects, tools, and more." />
  <meta property="og:image" content="profile.jpg" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Jino Sabu | Connect With Me" />
  <meta name="twitter:description" content="Mechanical Engineer ‚Ä¢ Frontend Dev ‚Ä¢ AI Enthusiast" />
  <meta name="twitter:image" content="profile.jpg" />

  <!-- Performance & Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Poppins:wght@400;600&family=Roboto+Mono&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'%3E%3Crect width='256' height='256' rx='48' fill='%2300c9ff'/%3E%3Ctext x='50%25' y='54%25' text-anchor='middle' font-size='120' font-family='Verdana' fill='white'%3EJ%3C/text%3E%3C/svg%3E" />

  <style>
    @property --angle {
      syntax: '<angle>';
      initial-value: 0deg;
      inherits: false;
    }

    :root {
      --font-main: 'Orbitron', system-ui, sans-serif;
      --bg-color: #0e1a2b;
      --card-color: rgba(255,255,255,0.04);
      --accent: #3ee8d3;
      --accent-2: #00c9ff;
      --accent-rgb: 62, 232, 211;
      --text-color: #e6f1ff;
      --muted: #b0e6ff;
      --muted-2: #cbdcec;
      --glass-blur: 18px;
      --ring: 0 0 0 3px rgba(62,232,211,0.35);
      --shadow: 0 0 50px rgba(62, 232, 211, 0.18);
      --radius: 24px;
      --transition-fast: 0.2s ease;
      --transition-slow: 0.6s cubic-bezier(0.16, 1, 0.3, 1);
      --border-color: rgba(255, 255, 255, 0.08);
      --subtle-bg: rgba(255, 255, 255, 0.06);
      --subtle-hover-bg: rgba(255, 255, 255, 0.12);
      --dark-subtle-bg: rgba(0, 0, 0, 0.2);
      --appbar-bg: linear-gradient(to bottom, rgba(0,0,0,.3), rgba(0,0,0,0));
      --toast-bg: rgba(0,0,0,.7);
      --toast-color: #fff;
      --toggle-bg: rgba(255,255,255,0.1);
      --toggle-slider-color: white;
      color-scheme: dark;
    }

    [data-theme="light"] {
        --bg-color: #f8faff;
        --card-color: #ffffff;
        --text-color: #1a202c;
        --muted: #4a5568;
        --muted-2: #718096;
        --accent: #FDD835;
        --accent-2: #FBC02D;
        --accent-rgb: 253, 216, 53;
        --shadow: 0 8px 24px rgba(200, 210, 230, 0.4);
        --border-color: #e2e8f0;
        --subtle-bg: #f1f5f9;
        --subtle-hover-bg: #e2e8f0;
        --dark-subtle-bg: #f1f5f9;
        --appbar-bg: linear-gradient(to bottom, rgba(248, 250, 252, 0.85), rgba(248, 250, 252, 0));
        --toast-bg: #1a202c;
        --toast-color: #ffffff;
        --toggle-bg: #cbd5e1;
        --toggle-slider-color: #fff;
        --ring: 0 0 0 3px rgba(253, 216, 53, 0.4);
        color-scheme: light;
    }
    
    [data-theme="light"] .card, 
    [data-theme="light"] .project-card, 
    [data-theme="light"] .section {
        border: 1px solid var(--border-color);
    }

    [data-theme="light"] h1.name {
        background: none;
        -webkit-background-clip: unset;
        -webkit-text-fill-color: var(--text-color);
        text-shadow: none;
        animation: none;
    }

    [data-theme="light"] .local-greeting, 
    [data-theme="light"] .local-time {
        color: #2980b9;
    }

    [data-theme="light"] .social-icons a {
        background: var(--subtle-bg);
        color: var(--accent);
        border-color: var(--border-color);
    }
    [data-theme="light"] .social-icons a:hover {
        background: var(--accent);
        color: var(--text-color);
    }
    [data-theme="light"] .tag {
        background-color: rgba(var(--accent-rgb), 0.15);
        color: #b45309;
        border: 1px solid rgba(var(--accent-rgb), 0.4);
        box-shadow: none;
    }
    [data-theme="light"] .back-to-top .icon-btn {
        background: var(--card-color);
        color: var(--text-color);
        border: 1px solid var(--border-color);
    }
    [data-theme="light"] .avatar::before {
        opacity: .6;
    }

    [data-theme="hacker"] {
      --font-main: 'Roboto Mono', monospace;
      --bg-color: #001a00;
      --card-color: rgba(0, 255, 68, 0.05);
      --text-color: #00ff41;
      --muted: #00ff41;
      --muted-2: #00ff41;
      --accent: #00ff41;
      --accent-2: #52ff7a;
      --accent-rgb: 0, 255, 65;
      --shadow: 0 0 20px rgba(0, 255, 65, 0.25);
      --ring: 0 0 0 3px rgba(0,255,65,0.4);
    }
    [data-theme="hacker"] .name, [data-theme="hacker"] h2 {
      text-shadow: 0 0 8px var(--accent) !important;
    }
    [data-theme="hacker"] .chip, [data-theme="hacker"] .btn {
        border-color: rgba(0,255,65,0.4);
        background: rgba(0,255,65,0.1);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      height: 100%;
      font-family: var(--font-main);
      background-color: var(--bg-color);
      color: var(--text-color);
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg-color); }
    ::-webkit-scrollbar-thumb { background: linear-gradient(var(--accent), var(--accent-2)); border-radius: 8px; }

    /* Skip link */
    .skip-link {
      position: absolute; left: 8px; top: -40px;
      background: var(--accent); color: var(--text-color); padding: 8px 12px; border-radius: 10px;
      transition: top .2s;
      z-index: 1000;
    }
    [data-theme="light"] .skip-link { color: #1a202c; }
    .skip-link:focus { top: 8px; box-shadow: var(--ring); outline: none; }

    /* Top app bar */
    .appbar {
      position: sticky; top: 0; z-index: 50;
      backdrop-filter: blur(10px);
      background: var(--appbar-bg);
      border-bottom: 1px solid var(--border-color);
    }
    .appbar-inner {
      max-width: 1040px; margin: 0 auto; padding: .7rem 1rem;
      display: flex; align-items: center; justify-content: space-between; gap: .75rem;
    }
    .brand {
      display: flex; align-items: center; gap: .6rem; font-weight: 700; letter-spacing: .5px;
    }
    .brand .dot {
      width: 10px; height: 10px; border-radius: 50%; background: var(--accent);
      box-shadow: 0 0 12px var(--accent);
      animation: pulse 2s infinite ease-in-out;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.4); opacity: .65; }
    }
    .controls { display: flex; align-items: center; gap: .5rem; }
    .btn, .chip {
      appearance: none; border: 1px solid var(--border-color);
      background: var(--subtle-bg); color: var(--text-color);
      padding: .5rem .75rem; border-radius: 12px; font-family: inherit; font-size: .95rem;
      display: inline-flex; align-items: center; gap: .5rem;
      transition: transform var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
      cursor: pointer;
    }
    .btn:hover { background: var(--subtle-hover-bg); transform: translateY(-1px); }
    .btn:focus-visible { outline: none; box-shadow: var(--ring); }
    .btn[hidden] { display: none !important; }
    .icon-btn { padding: .5rem; border-radius: 12px; width: 40px; height: 40px; justify-content: center; }
    .tagline { font-size: .9rem; color: var(--muted); display: none; }
    @media (min-width: 780px) { .tagline { display: block; } }

    .progress {
      position: fixed; top: 0; left: 0; height: 3px; background: linear-gradient(90deg, var(--accent), var(--accent-2));
      width: 0%; z-index: 60; box-shadow: 0 0 12px var(--accent);
    }

    .container {
      display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
      min-height: 100vh; padding: 1.25rem 1rem 3rem; text-align: center;
    }

    .card, .project-card, .section {
      background: var(--card-color);
      border-radius: var(--radius);
      padding: 2rem;
      width: 100%;
      max-width: 840px;
      box-shadow: var(--shadow);
      animation: fadeIn .9s var(--transition-slow) both;
      margin: 1.25rem 0;
      border: 1px solid var(--border-color);
      position: relative;
      overflow: hidden;
    }
    [data-card-style="glass"] .card, 
    [data-card-style="glass"] .project-card, 
    [data-card-style="glass"] .section {
        backdrop-filter: blur(var(--glass-blur));
    }
    [data-card-style="solid"] .card, 
    [data-card-style="solid"] .project-card, 
    [data-card-style="solid"] .section {
        background: var(--subtle-hover-bg);
        backdrop-filter: none;
    }
    [data-card-style="outlined"] .card, 
    [data-card-style="outlined"] .project-card, 
    [data-card-style="outlined"] .section {
        background: transparent;
        border: 1px solid var(--accent);
        box-shadow: 0 0 20px rgba(var(--accent-rgb), 0.1);
    }


    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px) scale(.98); } to { opacity: 1; transform: none; } }

    /* Modern animated border for Profile Card */
    .card[aria-label="Profile"] {
        border: 1px solid transparent;
    }
    .card[aria-label="Profile"]::before {
        content: '';
        position: absolute;
        inset: -1px;
        border-radius: inherit;
        background: conic-gradient(from var(--angle), var(--accent), var(--accent-2) 25%, var(--accent) 50%, var(--muted) 75%, var(--accent));
        animation: spin 4s linear infinite paused;
        z-index: -1;
        opacity: 0;
        transition: opacity 0.4s ease;
    }
    .card[aria-label="Profile"]:hover::before {
        animation-play-state: running;
        opacity: 0.35;
    }
    @keyframes spin {
        from { --angle: 0deg; }
        to { --angle: 360deg; }
    }

    /* Avatar + morphing blob */
    .avatar { position: relative; display: inline-block; }
    .avatar .profile-pic {
      width: 130px; height: 130px; border-radius: 50%; object-fit: cover; margin-bottom: 1.2rem;
      border: 3px solid var(--accent); box-shadow: 0 0 30px var(--accent); will-change: transform;
      transition: transform .3s ease;
      position: relative; z-index: 1;
    }
    .profile-pic:hover { transform: rotate(-2deg) scale(1.03); }

    .avatar::before {
      content: ""; position: absolute; inset: -18px; z-index: 0; filter: blur(24px);
      background:
        radial-gradient(40% 40% at 30% 30%, var(--accent), transparent 70%),
        radial-gradient(40% 40% at 70% 70%, var(--accent-2), transparent 70%);
      border-radius: 42% 58% 60% 40% / 38% 42% 58% 62%;
      animation: blobMorph 14s ease-in-out infinite alternate;
      opacity: .9;
    }
    @keyframes blobMorph {
      0%   { transform: rotate(0deg) scale(1);   border-radius: 42% 58% 60% 40% / 38% 42% 58% 62%; }
      50%  { transform: rotate(8deg) scale(1.05); border-radius: 58% 42% 40% 60% / 62% 58% 42% 38%; }
      100% { transform: rotate(-6deg) scale(1.03); border-radius: 48% 52% 55% 45% / 45% 50% 55% 50%; }
    }

    h1.name {
      font-size: 2.4rem; margin-bottom: .6rem;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      animation: glow 2.2s ease-in-out infinite alternate, gradientShift 12s ease-in-out infinite alternate;
      background-size: 200% 100%;
      text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15);
    }
    @keyframes glow { from { text-shadow: 0 0 6px var(--accent); } to { text-shadow: 0 0 18px var(--accent-2); } }
    @keyframes gradientShift { from { background-position: 0% 50%; } to { background-position: 100% 50%; } }

    .typewriter {
      font-family: 'Roboto Mono', monospace;
      font-size: 1.05rem; height: 1.2rem; margin-bottom: 1rem; color: var(--muted);
    }

    .social-icons {
      display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; margin: 1.2rem 0;
    }
    .social-icons a {
      font-size: 1.2rem; padding: .8rem; border-radius: 50%; 
      transition: transform .25s ease, background .25s ease, color .25s ease;
      filter: drop-shadow(0 0 6px rgba(var(--accent-rgb),0.18));
      will-change: transform;
    }
    .social-icons a:hover { transform: translateY(-3px) scale(1.05); }

    .bio {
      text-align: left; margin: 1.4rem 0; font-size: 1rem; line-height: 1.9; color: var(--muted-2);
    }

    /* Skills */
    .skills-wrap { display: flex; flex-wrap: wrap; gap: .6rem; justify-content: center; margin-top: .8rem; }
    .chip i { color: var(--accent); }
    .chip.selected { background: rgba(var(--accent-rgb),.16); border-color: rgba(var(--accent-rgb),.5); color: var(--accent); }
    .chip:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    [data-theme="dark"] .chip:hover {
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }


    /* GitHub Stats Section */
    .section-title { font-size: 2rem; color: var(--accent); margin: 0 0 1.25rem; text-align: center; text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15); }
    .gh-stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; text-align: center; margin-bottom: 1.5rem; }
    .gh-stat-item { background: var(--dark-subtle-bg); padding: 1rem; border-radius: 12px; }
    .gh-stat-item .count { font-size: 2rem; font-family: 'Orbitron', sans-serif; }
    .gh-stat-item .label { font-size: 0.9rem; color: var(--muted); }
    .gh-repos-list { display: grid; gap: .75rem; text-align: left; }
    .gh-repo-item {
        display: flex; flex-direction: column; background: var(--dark-subtle-bg);
        padding: .9rem 1.1rem; border-radius: 12px;
        border: 1px solid var(--border-color);
        transition: transform .2s ease, background .2s ease;
    }
    .gh-repo-item:hover { transform: translateY(-2px); background: var(--subtle-hover-bg); }
    .gh-repo-item a { color: var(--text-color); text-decoration: none; font-weight: 600; font-size: 1.05rem; }
    .gh-repo-item a:hover { color: var(--accent); }
    .gh-repo-item p { font-size: .9rem; color: var(--muted); margin: .25rem 0 .5rem; flex-grow: 1; }
    .gh-repo-meta { display: flex; gap: 1rem; font-size: .85rem; color: var(--muted-2); }
    .gh-repo-meta span { display: inline-flex; align-items: center; gap: .3rem; }
    .gh-loading, .gh-error { padding: 2rem; text-align: center; color: var(--muted); }
    .gh-loading .fa-spin { font-size: 2rem; }

    /* Projects */
    .project-title { font-size: 2rem; color: var(--accent); margin: 2.5rem 0 1.25rem; text-align: center;
      text-shadow: 0 0 10px rgba(var(--accent-rgb),0.15);
    }
    .projects-head {
      max-width: 940px; width: 100%; display: grid; grid-template-columns: 1fr auto; gap: .8rem; align-items: center;
    }
    @keyframes sectionHighlight {
        from { box-shadow: 0 0 0 0px rgba(var(--accent-rgb), 0.5); }
        to { box-shadow: 0 0 0 12px rgba(var(--accent-rgb), 0); }
    }
    .section.highlighted, .projects-head.highlighted {
        border-radius: var(--radius);
        animation: sectionHighlight 1.2s ease-out;
    }

    .projects-toolbar {
      display: flex; align-items: center; gap: .5rem; flex-wrap: wrap; justify-content: flex-end;
    }
    .search {
      width: 100%; background: var(--subtle-bg); border: 1px solid var(--border-color); color: var(--text-color);
      padding: .8rem 1rem; border-radius: 12px; outline: none; font-family: 'Roboto Mono', monospace;
    }
    .search:focus-visible { box-shadow: var(--ring); }
    .tags-bar { display: flex; flex-wrap: wrap; gap: .5rem; margin-top: .5rem; }
    .projects-grid {
      width: 100%; max-width: 1040px; display: grid; grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
      gap: 1rem; margin: 1rem 0 0;
    }
    .project-card {
      max-width: unset; text-align: left; transform-style: preserve-3d;
      transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1), box-shadow .3s ease;
      position: relative;
    }
    .project-card:hover {
        box-shadow: 0 8px 32px 0 rgba(0,0,0,0.1), var(--shadow);
    }
     [data-theme="dark"] .project-card:hover {
        box-shadow: 0 8px 32px 0 rgba(0,0,0,0.37), var(--shadow);
    }
    .project-card::before {
      content: ''; position: absolute; inset: 0; border-radius: inherit;
      background: radial-gradient(circle at var(--mx, 0) var(--my, 0), rgba(255,255,255,0.1), transparent 60%);
      opacity: 0; transition: opacity 0.3s ease; pointer-events: none;
    }
     [data-theme="light"] .project-card::before {
        background: radial-gradient(circle at var(--mx, 0) var(--my, 0), rgba(0,0,0,0.04), transparent 60%);
     }
    .project-card:hover::before { opacity: 1; }
    .project-card h2 {
      font-size: 1.2rem; margin-bottom: .4rem; color: var(--accent);
      display: flex; align-items: center; gap: .5rem;
    }
    .project-card p { font-size: .98rem; color: var(--muted); margin-bottom: .9rem; }

    .recent-badge {
      font-size: .65rem; padding: .2rem .4rem; border-radius: 999px;
      background-color: var(--accent-2); color: var(--bg-color);
      font-weight: bold; text-transform: uppercase; letter-spacing: .5px;
      animation: pulseBadge 1.8s infinite ease-in-out;
      display: none;
    }
    [data-theme="light"] .recent-badge {
        color: var(--text-color);
    }
    .project-card.is-recent .recent-badge {
      display: inline-block;
    }
    @keyframes pulseBadge {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: .85; }
    }

    .tags { display: flex; flex-wrap: wrap; gap: .4rem; margin-top: .4rem; }
    .tag {
      font-size: .75rem; padding: .28rem .5rem; border-radius: 999px;
      background: linear-gradient(to bottom, rgba(255,255,255,.06), rgba(0,0,0,.06));
      background-color: rgba(var(--accent-rgb),.10);
      color: var(--accent);
      border: 1px solid rgba(var(--accent-rgb),.35);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,.12),
        inset 0 -1px 0 rgba(0,0,0,.18),
        0 1px 1.5px rgba(0,0,0,.12);
    }

    .fav-btn {
      position: absolute; top: 10px; right: 10px;
      background: var(--subtle-bg); border: 1px solid var(--border-color);
      color: #ffd166;
      width: 38px; height: 38px; border-radius: 10px; display: inline-flex; align-items: center; justify-content: center;
      filter: drop-shadow(0 0 6px rgba(var(--accent-rgb),0.15));
    }
    .fav-btn[aria-pressed="false"] { color: #a1a1aa; }

    .sparkle-container {
      position: absolute; width: 1px; height: 1px; pointer-events: none; z-index: 90;
    }
    .sparkle {
      position: absolute; width: 6px; height: 6px; border-radius: 50%;
      background: radial-gradient(circle, var(--accent) 0%, var(--accent-2) 70%, transparent 72%);
      transform: translate(-50%, -50%) scale(0);
      animation: sparkle 700ms ease-out forwards;
      filter: drop-shadow(0 0 6px var(--accent));
      will-change: transform, opacity;
    }
    @keyframes sparkle {
      0%   { opacity: 1; transform: translate(-50%, -50%) scale(0); }
      60%  { opacity: 1; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(1); }
      100% { opacity: 0; transform: translate(calc(-50% + var(--dx)), calc(-50% + var(--dy))) scale(.2); }
    }

    .assist { font-size: .85rem; color: var(--muted); }

    /* Utilities */
    .flex-center { display: flex; align-items: center; justify-content: center; gap: .6rem; flex-wrap: wrap; }
    .mt-2 { margin-top: .75rem; }
    .mt-3 { margin-top: 1rem; }
    .mb-0 { margin-bottom: 0; }

    /* Back to top */
    .back-to-top {
      position: fixed; bottom: 18px; right: 18px; z-index: 60; opacity: 0; transform: translateY(10px); pointer-events: none;
      transition: all .25s ease;
    }
    .back-to-top.show { opacity: 1; transform: none; pointer-events: auto; }
    .back-to-top .icon-btn { background: linear-gradient(135deg, var(--accent), var(--accent-2)); color: #03111e; border: none; box-shadow: var(--shadow); }
    .back-to-top .icon-btn .fa-rocket.animated { animation: rocketLaunch 0.5s ease-out; }
    @keyframes rocketLaunch {
        0% { transform: translateY(0) rotate(-45deg); opacity: 1; }
        50% { transform: translateY(-30px) rotate(-45deg); opacity: 1; }
        100% { transform: translateY(-80px) rotate(-45deg); opacity: 0; }
    }

    /* Toast */
    .toast {
      position: fixed; left: 50%; bottom: 24px; transform: translate(-50%, 20px);
      background: var(--toast-bg); color: var(--toast-color); padding: .7rem 1rem; border-radius: 12px;
      opacity: 0; transition: all .25s ease; z-index: 110; font-size: .95rem; backdrop-filter: blur(6px);
    }
    .toast.show { opacity: 1; transform: translate(-50%, 0); }

    /* Command palette */
    .cmdk {
      position: fixed; inset: 0; background: rgba(0,0,0,.5); z-index: 80; display: none; place-items: center; padding: 1rem;
      backdrop-filter: blur(4px);
    }
    .cmdk.open { display: grid; }
    .cmdk-dialog {
      width: 100%; max-width: 680px; background: var(--card-color); border: 1px solid var(--border-color);
      border-radius: 16px; box-shadow: var(--shadow); overflow: hidden; backdrop-filter: blur(12px);
    }
    .cmdk-head { padding: .75rem; border-bottom: 1px solid var(--border-color); display: flex; gap: .5rem; align-items: center; }
    .cmdk-input {
      flex: 1; background: var(--subtle-bg); border: 1px solid var(--border-color);
      color: var(--text-color); padding: .7rem .9rem; border-radius: 10px; outline: none; font-family: 'Roboto Mono', monospace;
    }
    .cmdk-list { max-height: 320px; overflow: auto; }
    .cmdk-item {
      padding: .9rem 1rem; display: grid; grid-template-columns: auto 1fr auto; gap: 1rem; align-items: center; cursor: pointer;
      border-top: 1px solid var(--border-color);
    }
    .cmdk-item:hover, .cmdk-item:focus, .cmdk-item.active { background: var(--subtle-hover-bg); outline: none; }
    .kbd { font-family: 'Roboto Mono', monospace; font-size: .8rem; color: var(--muted); }
    .cmdk-item i { color: var(--accent); width: 20px; text-align: center; }

    /* Project Modal */
    .modal-overlay {
      position: fixed; inset: 0; z-index: 100;
      background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
      display: grid; place-items: center; padding: 1rem;
      opacity: 0; visibility: hidden; transition: var(--transition-slow);
    }
    .modal-overlay.open { opacity: 1; visibility: visible; }
    .modal-dialog {
      background: var(--bg-color); border: 1px solid var(--border-color);
      border-radius: var(--radius); box-shadow: var(--shadow);
      width: 100%; max-width: 550px; padding: 2rem;
      text-align: center;
      transform: scale(0.95); transition: var(--transition-slow);
    }
    .modal-overlay.open .modal-dialog { transform: scale(1); }
    .modal-dialog h2 { font-size: 1.8rem; color: var(--accent); margin-bottom: .75rem; }
    .modal-dialog p { color: var(--muted-2); margin-bottom: 1.5rem; line-height: 1.7; }
    .modal-actions { display: flex; justify-content: center; gap: .75rem; flex-wrap: wrap; }
    .modal-close { position: absolute; top: 12px; right: 12px; }

    /* Vibe Customization Panel */
    .vibe-panel {
        position: fixed;
        top: 0;
        right: -320px;
        width: 300px;
        height: 100%;
        background: var(--card-color);
        backdrop-filter: blur(14px);
        z-index: 101;
        border-left: 1px solid var(--border-color);
        box-shadow: -10px 0 30px rgba(0,0,0,0.2);
        transition: right 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        overflow-y: auto;
    }
    .vibe-panel.open {
        right: 0;
    }
    .vibe-panel-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
    }
    .vibe-panel h3 {
        color: var(--accent);
        margin: 0;
    }
    .vibe-panel .control-group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }
    .vibe-panel label {
        font-size: 0.9rem;
        color: var(--muted-2);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .vibe-panel input[type="range"] {
        width: 100%;
    }
    .vibe-panel .btn {
        width: 100%;
        justify-content: center;
    }
    /* Toggle switch for Glitch effect */
    .toggle-switch {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 24px;
    }
    .toggle-switch input { display: none; }
    .toggle-switch .slider {
        position: absolute;
        cursor: pointer;
        inset: 0;
        background-color: var(--toggle-bg);
        border-radius: 34px;
        transition: .4s;
    }
    .toggle-switch .slider:before {
        position: absolute;
        content: "";
        height: 18px;
        width: 18px;
        left: 3px;
        bottom: 3px;
        background-color: var(--toggle-slider-color);
        border-radius: 50%;
        transition: .4s;
    }
    .toggle-switch input:checked + .slider {
        background-color: var(--accent);
    }
    .toggle-switch input:checked + .slider:before {
        transform: translateX(20px);
    }


    footer { margin-top: 2rem; font-size: .85rem; color: #8899aa; }

    /* Reveal on scroll */
    .reveal { opacity: 0; transform: translateY(16px); }
    .reveal.revealed { opacity: 1; transform: none; transition: all .65s ease; transition-delay: var(--delay, 0s); }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
      html, body, a, button { cursor: default; }
    }

    /* Mobile tweaks */
    @media (max-width: 600px) {
      h1.name { font-size: 2rem; }
      .typewriter { font-size: 1rem; }
      .bio { font-size: .98rem; text-align: center; }
      .appbar-inner { padding: .6rem .75rem; }
      .projects-head { grid-template-columns: 1fr; }
    }

    /* Print */
    @media print {
      .appbar, .progress, .social-icons, .back-to-top, .cmdk, .controls, .modal-overlay, #github-stats, .vibe-panel { display: none !important; }
      .card, .section, .project-card { box-shadow: none; border: 1px solid #ddd; }
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  <div class="progress" id="progress"></div>

  <!-- App Bar -->
  <header class="appbar" role="banner">
    <div class="appbar-inner">
      <div class="brand" aria-label="Brand">
        <span class="dot" aria-hidden="true"></span>
        <span>Jino Sabu</span>
        <span class="tagline">Mechanical Engineer ‚Ä¢ Frontend Dev ‚Ä¢ AI</span>
      </div>
      <div class="controls" role="toolbar" aria-label="Quick actions">
        <button class="btn icon-btn" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">
          <i class="fa-solid fa-moon"></i>
        </button>
        <button class="btn icon-btn" id="accentBtn" title="Pick accent color" aria-label="Pick accent color">
          <i class="fa-solid fa-palette"></i>
        </button>
        <input type="color" id="accentPicker" hidden aria-label="Accent color picker" />
        <button class="btn" id="cmdkBtn" title="Command palette (Ctrl/Cmd + K)" aria-label="Open command palette">
          <i class="fa-solid fa-terminal"></i><span class="hide-sm"> Command</span>
        </button>
        <button class="btn icon-btn" id="vibeToggleBtn" title="Customize Vibe" aria-label="Open vibe customization panel">
            <i class="fa-solid fa-gear"></i>
        </button>
      </div>
    </div>
  </header>

  <main id="main" class="container" role="main">
    <!-- Hero card -->
    <section class="card reveal" aria-label="Profile">
      <div class="avatar">
        <img src="profile.jpg" alt="Portrait of Jino Sabu" class="profile-pic" loading="lazy" decoding="async">
      </div>
      <h1 class="name">Jino Sabu</h1>
      <div class="local-greeting" id="local-greeting">üëã Welcome, friend!</div>
      <div class="local-time" id="local-time" aria-live="polite"></div>
      <div class="typewriter" id="typewriter" aria-live="polite"></div>

      <nav class="social-icons" aria-label="Social links">
        <a href="https://www.github.com/jinosabu1999" target="_blank" aria-label="GitHub" rel="noopener" class="magnetic">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
        <a href="https://www.instagram.com/jinosabu1999" target="_blank" aria-label="Instagram" rel="noopener" class="magnetic">
          <i class="fab fa-instagram" aria-hidden="true"></i>
        </a>
        <a href="https://www.x.com/jinosabu1999" target="_blank" aria-label="X (Twitter)" rel="noopener" class="magnetic">
          <i class="fab fa-x-twitter" aria-hidden="true"></i>
        </a>
        <a href="https://www.youtube.com/@JinoSabu1999" target="_blank" aria-label="YouTube" rel="noopener" class="magnetic">
          <i class="fab fa-youtube" aria-hidden="true"></i>
        </a>
        <a href="https://www.suno.com/@jinosabu1999" target="_blank" aria-label="Suno" rel="noopener" class="magnetic">
          <i class="fas fa-music" aria-hidden="true"></i>
        </a>
        <a href="https://www.pinterest.com/jinosabu1999" target="_blank" aria-label="Pinterest" rel="noopener" class="magnetic">
          <i class="fab fa-pinterest" aria-hidden="true"></i>
        </a>
        <a href="https://www.telegram.me/jinosabu1999" target="_blank" aria-label="Telegram" rel="noopener" class="magnetic">
          <i class="fab fa-telegram" aria-hidden="true"></i>
        </a>
        <a href="https://ko-fi.com/jinosabu1999" target="_blank" aria-label="Ko-fi" rel="noopener" class="magnetic">
          <i class="fas fa-mug-hot" aria-hidden="true"></i>
        </a>
        <a href="https://paypal.me/jinosabu1999" target="_blank" aria-label="PayPal" rel="noopener" class="magnetic">
          <i class="fab fa-paypal" aria-hidden="true"></i>
        </a>
      </nav>

      <div class="bio" id="bio">
        <p class="reveal">üëã Hey there! I‚Äôm Jino Sabu</p>
        <p class="reveal">üí™ Mechanical Engineer by degree</p>
        <p class="reveal">üíª Frontend Developer by passion</p>
        <p class="reveal">üß† AI Enthusiast by obsession</p>
        <p class="bio-more reveal" hidden>üéØ I fuse creativity with code to craft futuristic digital experiences</p>
        <p class="bio-more reveal" hidden>üé® Designing interfaces that feel as good as they function</p>
        <p class="bio-more reveal" hidden>‚öôÔ∏è Engineering smarter systems that just make life easier</p>
        <p class="bio-more reveal" hidden>üå± Always learning. Always building. Always evolving.</p>
        <p class="bio-more reveal" hidden>üöÄ Currently on a mission to blend logic, design & innovation</p>
        <p class="bio-more reveal" hidden>üåå I don‚Äôt just build websites‚ÄîI build vibes</p>
        <p class="bio-more reveal" hidden>üñ§ Living life in dark mode, one pixel at a time</p>
        <p class="bio-more reveal" hidden>‚ú® Here to push limits, break patterns & create magic.</p>
      </div>
      <button id="toggleBio" class="btn mt-2" aria-expanded="false">Show More <i class="fa-solid fa-chevron-down"></i></button>

      <div class="flex-center mt-2">
        <a class="btn" href="#projects" aria-label="Jump to projects"><i class="fa-solid fa-rocket"></i> Explore Projects</a>
      </div>

      <div class="skills-wrap mt-3" aria-label="Tech stack">
        <span class="chip"><i class="fa-brands fa-html5"></i> HTML</span>
        <span class="chip"><i class="fa-brands fa-css3-alt"></i> CSS</span>
        <span class="chip"><i class="fa-brands fa-js"></i> JavaScript</span>
        <span class="chip"><i class="fa-brands fa-react"></i> React</span>
        <span class="chip"><i class="fa-brands fa-node-js"></i> Node</span>
        <span class="chip"><i class="fa-brands fa-figma"></i> Figma</span>
        <span class="chip"><i class="fa-brands fa-git-alt"></i> Git</span>
        <span class="chip"><i class="fa-brands fa-python"></i> Python</span>
      </div>
    </section>

    <!-- GitHub Stats Section -->
    <section class="section reveal" id="github-stats" aria-labelledby="gh-title">
        <h2 class="section-title" id="gh-title"><i class="fa-brands fa-github"></i> Real-time GitHub Pulse</h2>
        <div id="gh-stats-container">
            <div class="gh-loading">
                <i class="fa-solid fa-spinner fa-spin"></i>
                <p class="mt-2">Fetching latest GitHub stats...</p>
            </div>
        </div>
    </section>

    <!-- Projects -->
    <h2 class="project-title" id="projects">üöÄ Projects</h2>
    <div class="projects-head reveal" aria-label="Project tools">
      <input class="search" id="projectSearch" type="search" placeholder="Filter projects by name or tag (e.g., audio, app, editor)..." aria-label="Filter projects" />
      <div class="projects-toolbar">
        <select class="btn" id="sortSelect" aria-label="Sort projects">
          <option value="az">Sort: A ‚Üí Z</option>
          <option value="za">Sort: Z ‚Üí A</option>
          <option value="newest">Sort: Newest</option>
          <option value="oldest">Sort: Oldest</option>
        </select>
        <button class="btn" id="clearFilter"><i class="fa-solid fa-broom"></i> Clear</button>
      </div>
      <div class="tags-bar" id="tagsBar" aria-label="Tag filters"></div>
      <div id="projectStats" class="assist" aria-live="polite"></div>
    </div>

    <section class="projects-grid reveal" aria-label="Projects grid" id="projectsGrid">
      <article class="project-card tilt" data-tags="tools,utilities,app,web" data-url="https://v0-multi-tool-app.vercel.app" data-updated="2025-08-28" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite"><i class="fa-regular fa-star"></i></button>
        <h2>Multi Tool Kit 2025</h2>
        <p>A Swiss army knife for the web ‚Äì fast, sleek, packed with utilities!</p>
        <div class="tags"><span class="tag">Tools</span><span class="tag">Utilities</span><span class="tag">Vite</span></div>
      </article>
      <article class="project-card tilt" data-tags="productivity,tools,ui,app" data-url="https://v0-tooltesseract.vercel.app" data-updated="2025-08-15" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite"><i class="fa-regular fa-star"></i></button>
        <h2>ToolTesseract App</h2>
        <p>All your productivity tools in one futuristic interface. Hyper-organized. Hyper-intuitive.</p>
        <div class="tags"><span class="tag">Productivity</span><span class="tag">UI</span></div>
      </article>
      <article class="project-card tilt" data-tags="memories,media,app,photos" data-url="https://chronocapsule.vercel.app" data-updated="2025-07-20" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite"><i class="fa-regular fa-star"></i></button>
        <h2>Memories App</h2>
        <p>Preserve your moments in a beautiful time capsule. Designed for nostalgia.</p>
        <div class="tags"><span class="tag">Media</span><span class="tag">Photos</span></div>
      </article>
      <article class="project-card tilt" data-tags="audio,media,editor,app" data-url="https://v0-audio-cutter-app.vercel.app" data-updated="2025-06-30" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite"><i class="fa-regular fa-star"></i></button>
        <h2>Audio Cutter App</h2>
        <p>Cut, trim, and remix audio tracks in seconds. Minimal, smooth, powerful.</p>
        <div class="tags"><span class="tag">Audio</span><span class="tag">Editor</span></div>
      </article>
      <article class="project-card tilt" data-tags="code,editor,playground,web" data-url="https://code-editor-by-jino.vercel.app" data-updated="2025-08-01" tabindex="0">
        <button class="fav-btn" title="Toggle favorite" aria-pressed="false" aria-label="Toggle favorite"><i class="fa-regular fa-star"></i></button>
        <h2>Code Editor</h2>
        <p>Your personal coding playground. Fast, clean, dark-mode friendly.</p>
        <div class="tags"><span class="tag">Editor</span><span class="tag">Playground</span></div>
      </article>
    </section>

    <footer>&copy; <span id="year"></span> Jino Sabu. All rights reserved.</footer>
  </main>

  <!-- Back to top -->
  <div class="back-to-top" id="backToTop" aria-hidden="true">
    <button class="icon-btn" title="Back to top" aria-label="Back to top">
      <i class="fa-solid fa-rocket"></i>
    </button>
  </div>

  <!-- Command Palette -->
  <div class="cmdk" id="cmdk" role="dialog" aria-modal="true" aria-labelledby="cmdkTitle">
    <div class="cmdk-dialog">
      <div class="cmdk-head">
        <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i>
        <input id="cmdkInput" class="cmdk-input" placeholder="Type a command or search‚Ä¶ (Esc to close)" aria-label="Command input" />
      </div>
      <div class="cmdk-list" id="cmdkList"></div>
    </div>
  </div>

  <!-- Project Modal -->
  <div class="modal-overlay" id="projectModal" role="dialog" aria-modal="true">
    <div class="modal-dialog">
        <button class="btn icon-btn modal-close" aria-label="Close dialog"><i class="fa-solid fa-xmark"></i></button>
        <h2 id="modalTitle"></h2>
        <p id="modalDescription"></p>
        <div class="tags" id="modalTags"></div>
        <div class="modal-actions mt-3">
            <a id="modalLink" href="#" target="_blank" rel="noopener" class="btn"><i class="fa-solid fa-arrow-up-right-from-square"></i> Visit Project</a>
            <button id="modalShare" class="btn"><i class="fa-solid fa-share-nodes"></i> Share</button>
        </div>
    </div>
  </div>

  <!-- Vibe Customization Panel -->
  <div class="vibe-panel" id="vibePanel">
      <div class="vibe-panel-header">
        <h3><i class="fa-solid fa-sliders"></i> Customize Vibe</h3>
        <button class="btn icon-btn" id="vibeCloseBtn" aria-label="Close vibe panel"><i class="fa-solid fa-xmark"></i></button>
      </div>

      <div class="control-group">
          <label for="fontSelect">Font Style</label>
          <select id="fontSelect" class="btn">
              <option value="'Orbitron', system-ui, sans-serif">Orbitron (Default)</option>
              <option value="'Poppins', sans-serif">Poppins</option>
              <option value="'Roboto Mono', monospace">Roboto Mono</option>
          </select>
      </div>
      <div class="control-group">
          <label for="cardStyleSelect">Card Style</label>
          <select id="cardStyleSelect" class="btn">
              <option value="glass">Glassmorphism</option>
              <option value="solid">Solid</option>
              <option value="outlined">Outlined</option>
          </select>
      </div>
      <div class="control-group">
          <label for="radiusSlider">Corner Roundness: <span id="radiusValue">24px</span></label>
          <input type="range" id="radiusSlider" min="4" max="48" value="24" aria-label="Corner roundness">
      </div>
      <div class="control-group">
          <label for="glassBlurSlider">Glassmorphism: <span id="glassBlurValue">18px</span></label>
          <input type="range" id="glassBlurSlider" min="0" max="40" value="18" aria-label="Glassmorphism blur amount">
      </div>
      <div class="control-group">
          <label for="glowIntensitySlider">Glow Intensity: <span id="glowIntensityValue">100%</span></label>
          <input type="range" id="glowIntensitySlider" min="0" max="1" step="0.05" value="1" aria-label="Glow intensity">
      </div>
       <div class="control-group">
          <label for="animationSpeedSlider">Animation Speed: <span id="animationSpeedValue">0.6s</span></label>
          <input type="range" id="animationSpeedSlider" min="0.1" max="2" step="0.1" value="0.6" aria-label="Animation speed">
      </div>
      <button class="btn mt-3" id="resetVibeBtn"><i class="fa-solid fa-arrow-rotate-left"></i> Reset to Default</button>
  </div>


  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    (function() {
      'use strict';
      const $ = (s, r = document) => r.querySelector(s);
      const $$ = (s, r = document) => [...r.querySelectorAll(s)];
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      function init() {
        ThemeManager.init();
        UIManager.init();
        GitHubStats.init();
        ProjectSystem.init();
        CommandPalette.init();
        Effects.init();
        Misc.init();
        VibeCustomizer.init();
        Gamification.init();
      }

      const ThemeManager = {
        themeToggle: $('#themeToggle'),
        accentBtn: $('#accentBtn'),
        accentPicker: $('#accentPicker'),
        html: document.documentElement,
        themeMode: 'auto',
        prefersDark: window.matchMedia('(prefers-color-scheme: dark)'),
        originalTheme: 'auto',

        init() {
          this.themeMode = localStorage.getItem('theme') || 'auto';
          this.originalTheme = this.themeMode;
          this.setTheme(this.themeMode);
          this.prefersDark.addEventListener('change', () => {
            if (this.themeMode === 'auto') this.applyThemeFromSystem();
          });
          this.themeToggle.addEventListener('click', () => this.cycleTheme());

          const savedAccent = localStorage.getItem('accentColor') || '#3ee8d3';
          this.applyAccent(savedAccent);
          this.accentPicker.value = savedAccent;
          this.accentBtn.addEventListener('click', () => this.accentPicker.click());
          this.accentPicker.addEventListener('input', (e) => this.handleAccentChange(e.target.value));
        },

        applyThemeFromSystem() {
          const sysDark = this.prefersDark.matches;
          this.html.setAttribute('data-theme', sysDark ? 'dark' : 'light');
          this.updateMetaThemeColor();
          this.themeToggle.innerHTML = sysDark ? '<i class="fa-solid fa-moon"></i>' : '<i class="fa-solid fa-sun"></i>';
        },

        setTheme(mode, isTemporary = false) {
            if (!isTemporary) {
                this.themeMode = mode;
                this.originalTheme = mode;
                localStorage.setItem('theme', mode);
            }
            if (mode === 'auto') {
                this.applyThemeFromSystem();
                if(!isTemporary) {
                    this.themeToggle.title = 'Theme: Auto';
                    this.themeToggle.innerHTML = '<i class="fa-solid fa-circle-half-stroke"></i>';
                }
            } else {
                this.html.setAttribute('data-theme', mode);
                if(!isTemporary) {
                    this.themeToggle.title = `Theme: ${mode[0].toUpperCase() + mode.slice(1)}`;
                    this.themeToggle.innerHTML = mode === 'dark' ? '<i class="fa-solid fa-moon"></i>' : '<i class="fa-solid fa-sun"></i>';
                }
                this.updateMetaThemeColor();
            }
        },

        cycleTheme() {
          const order = ['dark', 'light', 'auto'];
          const next = order[(order.indexOf(this.themeMode) + 1) % order.length];
          this.setTheme(next);
          UIManager.showToast(`Theme: ${next.toUpperCase()}`);
        },

        handleAccentChange(color) {
          this.applyAccent(color);
          localStorage.setItem('accentColor', color);
          UIManager.showToast('Accent updated');
          Gamification.triggerAchievement('chromaKey');
        },
        
        applyAccent(hex) {
          const rgb = this.hexToRgb(hex);
          this.html.style.setProperty('--accent', hex);
          this.html.style.setProperty('--accent-rgb', `${rgb.r}, ${rgb.g}, ${rgb.b}`);
          this.html.style.setProperty('--accent-2', this.shiftHue(hex, 40));
          this.updateFavicon(hex);
        },

        updateMetaThemeColor() {
          const color = getComputedStyle(document.documentElement).getPropertyValue('--bg-color').trim();
          $('meta[name="theme-color"]')?.setAttribute('content', color);
        },

        updateFavicon(bgColor) {
            const getTextColor = (hex) => {
                const r = parseInt(hex.slice(1, 3), 16), g = parseInt(hex.slice(3, 5), 16), b = parseInt(hex.slice(5, 7), 16);
                return (Math.round(((r * 299) + (g * 587) + (b * 114)) / 1000) > 125) ? '#0e1a2b' : '#e6f1ff';
            };
            const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='256' height='256' viewBox='0 0 256 256'><rect width='256' height='256' rx='48' fill='${bgColor}'/><text x='50%' y='54%' text-anchor='middle' font-size='120' font-family='Verdana' fill='${getTextColor(bgColor)}'>J</text></svg>`;
            $('link[rel="icon"]').setAttribute('href', `data:image/svg+xml,${encodeURIComponent(svg)}`);
        },
        
        hexToRgb(hex) {
          let r=0, g=0, b=0;
          hex = hex.replace('#', '');
          if (hex.length === 3) { r = parseInt(hex[0] + hex[0], 16); g = parseInt(hex[1] + hex[1], 16); b = parseInt(hex[2] + hex[2], 16); }
          else if (hex.length === 6) { r = parseInt(hex.substring(0, 2), 16); g = parseInt(hex.substring(2, 4), 16); b = parseInt(hex.substring(4, 6), 16); }
          return {r, g, b};
        },
        shiftHue(h, d) { const { H, S, L } = this.hexToHsl(h); return this.hslToHex((H + d) % 360, S, L) },
        hexToHsl(H) { let r=0,g=0,b=0; H=H.replace("#",""); if(H.length===3){r=parseInt(H[0]+H[0],16);g=parseInt(H[1]+H[1],16);b=parseInt(H[2]+H[2],16)}else{r=parseInt(H[0]+H[1],16);g=parseInt(H[2]+H[3],16);b=parseInt(H[4]+H[5],16)}r/=255;g/=255;b/=255;const cmin=Math.min(r,g,b),cmax=Math.max(r,g,b),delta=cmax-cmin;let h=0,s=0,l=0;if(delta===0)h=0;else if(cmax===r)h=(g-b)/delta%6;else if(cmax===g)h=(b-r)/delta+2;else h=(r-g)/delta+4;h=Math.round(h*60);if(h<0)h+=360;l=(cmax+cmin)/2;s=delta===0?0:delta/(1-Math.abs(2*l-1));s=Math.round(s*100);l=Math.round(l*100);return{H:h,S:s,L:l}},
        hslToHex(h,s,l){s/=100;l/=100;const k=n=>(n+h/30)%12,a=s*Math.min(l,1-l),f=n=>l-a*Math.max(-1,Math.min(k(n)-3,Math.min(9-k(n),1))),toHex=x=>Math.round(x*255).toString(16).padStart(2,"0");return`#${toHex(f(0))}${toHex(f(8))}${toHex(f(4))}`}
      };

      const UIManager = {
        toast: $('#toast'),
        toastTimer: null,
        lastActiveElement: null,
        openedModals: new Set(),

        init() {
          this.initTypewriter();
          this.initBioToggle();
          this.initLocalInfo();
          this.initProjectModal();
          this.initSmoothScroll();
        },

        showToast(msg) {
          clearTimeout(this.toastTimer);
          this.toast.textContent = msg;
          this.toast.classList.add('show');
          this.toastTimer = setTimeout(() => this.toast.classList.remove('show'), 2200);
        },
        
        initSmoothScroll() {
            $('a.btn[href="#projects"]').addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = e.currentTarget.getAttribute('href');
                const targetElement = $(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth' });
                    Misc.highlightElement($('.projects-head'));
                }
            });
        },

        initTypewriter() {
          const roles = ["Mechanical Engineer", "Frontend Developer", "AI Enthusiast"];
          let i = 0, j = 0, isDeleting = false, hold = 0;
          const el = $("#typewriter");
          if(!el) return;
          const typeEffect = () => {
            const speed = isDeleting ? 50 : 110;
            const pause = 900;
            const word = roles[i];
            if (!isDeleting) {
              el.textContent = word.slice(0, j++);
              if (j > word.length) { hold++; if (hold * speed > pause) { isDeleting = true; hold = 0; } }
            } else {
              el.textContent = word.slice(0, j--);
              if (j < 0) { isDeleting = false; i = (i + 1) % roles.length; }
            }
            if (!prefersReducedMotion) setTimeout(typeEffect, speed);
            else el.textContent = roles[1];
          };
          typeEffect();
        },

        initBioToggle() {
          const btn = $('#toggleBio');
          if(!btn) return;
          btn.addEventListener('click', () => {
            const isExpanded = btn.getAttribute('aria-expanded') === 'true';
            $$('.bio-more').forEach(item => item.hidden = !item.hidden);
            btn.setAttribute('aria-expanded', !isExpanded);
            btn.innerHTML = !isExpanded ? 'Show Less <i class="fa-solid fa-chevron-up"></i>' : 'Show More <i class="fa-solid fa-chevron-down"></i>';
          });
        },
        
        initLocalInfo() {
          fetch("https://ipapi.co/json").then(r => r.json()).then(data => {
            $("#local-greeting").textContent = `üëã Greetings from ${data.country_name || "your place"}!`;
            const tickTime = () => {
              const options = { hour: '2-digit', minute: '2-digit', hour12: false };
              if (data.timezone) options.timeZone = data.timezone;
              const now = new Date();
              const timeString = new Intl.DateTimeFormat('default', options).format(now);
              const hh = new Date().getHours();
              const greeting = hh < 12 ? "‚òÄÔ∏è Good morning" : hh < 18 ? "üå§Ô∏è Good afternoon" : "üåô Good evening";
              $("#local-time").textContent = `${greeting} ‚Äî your local time is ${timeString}${data.timezone ? ` (${data.timezone.split('/')[1].replace(/_/g, ' ')} Time)` : ''}`;
            };
            tickTime(); setInterval(tickTime, 30000);
          }).catch(() => {
            $("#local-greeting").textContent = "üëã Welcome, friend from around the globe!";
            const tickTimeFallback = () => {
              const now = new Date();
              const hh = now.getHours().toString().padStart(2, '0');
              const mm = now.getMinutes().toString().padStart(2, '0');
              const greeting = now.getHours() < 12 ? "‚òÄÔ∏è Good morning" : now.getHours() < 18 ? "üå§Ô∏è Good afternoon" : "üåô Good evening";
              $("#local-time").textContent = `${greeting} ‚Äî your local time is ${hh}:${mm}`;
            };
            tickTimeFallback(); setInterval(tickTimeFallback, 30000);
          });
        },

        initProjectModal() {
            const modal = $('#projectModal');
            $('#projectsGrid').addEventListener('click', e => {
                const card = e.target.closest('.project-card');
                if (card && !e.target.closest('.fav-btn')) this.openProjectModal(card);
            });
            $('#projectsGrid').addEventListener('keydown', e => {
                const card = e.target.closest('.project-card');
                if (card && (e.key === 'Enter' || e.key === ' ') && !e.target.closest('.fav-btn')) {
                    e.preventDefault();
                    this.openProjectModal(card);
                }
            });
            modal.addEventListener('click', e => {
                if (e.target === modal || e.target.closest('.modal-close')) this.closeProjectModal();
            });
            document.addEventListener('keydown', e => {
                if (e.key === 'Escape' && modal.classList.contains('open')) this.closeProjectModal();
            });
        },

        openProjectModal(card) {
            this.lastActiveElement = document.activeElement;
            const modal = $('#projectModal');
            $('#modalTitle').textContent = card.querySelector('h2').textContent;
            $('#modalDescription').textContent = card.querySelector('p').textContent;
            $('#modalLink').href = card.dataset.url;
            
            const tagsContainer = $('#modalTags');
            tagsContainer.innerHTML = '';
            card.querySelectorAll('.tag').forEach(tag => tagsContainer.appendChild(tag.cloneNode(true)));

            const projectInfo = { title: card.querySelector('h2').textContent, text: card.querySelector('p').textContent, url: card.dataset.url };
            $('#modalShare').style.display = navigator.share ? 'inline-flex' : 'none';
            $('#modalShare').onclick = () => navigator.share(projectInfo).catch(err => console.error('Share failed:', err));
            
            modal.classList.add('open');
            this.trapFocus(modal);
            
            this.openedModals.add(card.dataset.id);
            Gamification.checkAchievements();
        },

        closeProjectModal() {
            $('#projectModal').classList.remove('open');
            this.lastActiveElement?.focus();
        },

        trapFocus(modal) {
            const focusableElements = $$('button, a[href]', modal);
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];
            firstElement.focus();
            modal.addEventListener('keydown', (e) => {
                if (e.key !== 'Tab') return;
                if (e.shiftKey) { if (document.activeElement === firstElement) { lastElement.focus(); e.preventDefault(); }
                } else { if (document.activeElement === lastElement) { firstElement.focus(); e.preventDefault(); } }
            });
        }
      };

      const GitHubStats = {
        username: 'jinosabu1999', container: $('#gh-stats-container'),
        async init() {
            try {
                const repos = await this.fetchAllRepos();
                if (!repos || repos.length === 0) throw new Error("No repositories found.");
                const totalStars = repos.reduce((sum, repo) => sum + repo.stargazers_count, 0);
                const totalForks = repos.reduce((sum, repo) => sum + repo.forks_count, 0);
                const topRepos = repos.filter(repo => !repo.fork).sort((a, b) => b.stargazers_count - a.stargazers_count).slice(0, 3);
                this.renderStats({ repoCount: repos.filter(r => !r.fork).length, starCount: totalStars, forkCount: totalForks, topRepos: topRepos });
            } catch (error) { this.renderError(error.message); }
        },
        async fetchAllRepos() {
            let allRepos = [], page = 1, hasMore = true;
            const url = `https://api.github.com/users/${this.username}/repos?per_page=100&sort=pushed&page=`;
            while(hasMore) {
                const response = await fetch(url + page);
                if (!response.ok) throw new Error(`API request failed: ${response.statusText}`);
                const repos = await response.json();
                if (repos.length < 100) hasMore = false;
                allRepos = allRepos.concat(repos);
                page++;
            }
            return allRepos;
        },
        renderStats(stats) {
            this.container.innerHTML = `<div class="gh-stats-grid"><div class="gh-stat-item"><div class="count">${stats.repoCount}</div><div class="label">Repositories</div></div><div class="gh-stat-item"><div class="count">${stats.starCount}</div><div class="label">Total Stars</div></div><div class="gh-stat-item"><div class="count">${stats.forkCount}</div><div class="label">Total Forks</div></div></div><h3 class="section-title" style="font-size: 1.5rem; margin-top: 2rem;">Top Repositories</h3><div class="gh-repos-list">${stats.topRepos.map(repo =>`<div class="gh-repo-item"><a href="${repo.html_url}" target="_blank" rel="noopener">${repo.name}</a><p>${repo.description||'No description.'}</p><div class="gh-repo-meta"><span><i class="fa-solid fa-star"></i> ${repo.stargazers_count}</span><span><i class="fa-solid fa-code-fork"></i> ${repo.forks_count}</span>${repo.language?`<span><i class="fa-solid fa-code"></i> ${repo.language}</span>`:''}</div></div>`).join('')}</div>`;
        },
        renderError(message) {
            this.container.innerHTML = `<div class="gh-error"><i class="fa-solid fa-triangle-exclamation"></i><p class="mt-2">Could not fetch GitHub stats.</p><small>${message}</small></div>`;
        }
      };
      
      const ProjectSystem = {
        cards: $$('.project-card'), favorites: new Set(), activeTags: new Set(), favoritesOnly: false,
        init() {
          this.favorites = new Set(JSON.parse(localStorage.getItem('favorites') || '[]'));
          this.cards.forEach((card, i) => {
            const title = card.querySelector('h2').textContent.trim();
            const id = title.toLowerCase().replace(/[^a-z0-9]+/g, '-');
            card.dataset.id = id;
            card.style.setProperty('--delay', `${i * 50}ms`);
            const favBtn = card.querySelector('.fav-btn');
            this.setFavBtn(favBtn, this.favorites.has(id));
            favBtn.addEventListener('click', e => { e.stopPropagation(); this.toggleFavorite(id, favBtn); });
            this.handleRecentBadge(card);
          });
          this.buildTagChips();
          this.addEventListeners();
          this.filterAndSort();
        },
        handleRecentBadge(card) {
            const titleElement = card.querySelector('h2');
            const badge = document.createElement('span');
            badge.className = 'recent-badge';
            badge.textContent = 'Updated';
            titleElement.appendChild(badge);
            const updatedDateStr = card.dataset.updated;
            if (updatedDateStr) {
                const updatedDate = new Date(updatedDateStr), today = new Date();
                if ((today - updatedDate) / (1000*60*60*24) <= 30) card.classList.add('is-recent');
            }
        },
        toggleFavorite(id, btn) {
            if (this.favorites.has(id)) this.favorites.delete(id); else this.favorites.add(id);
            this.setFavBtn(btn, this.favorites.has(id));
            localStorage.setItem('favorites', JSON.stringify([...this.favorites]));
            UIManager.showToast(this.favorites.has(id) ? 'Added to favorites' : 'Removed from favorites');
            if (this.favorites.has(id)) Effects.spawnSparkles(btn);
            Gamification.checkAchievements();
            if (this.favoritesOnly) this.filterAndSort(); else this.updateStats();
        },
        setFavBtn(btn, active) {
          btn.setAttribute('aria-pressed', String(active));
          btn.innerHTML = active ? '<i class="fa-solid fa-star"></i>' : '<i class="fa-regular fa-star"></i>';
        },
        buildTagChips() {
            const tagSet = new Set(['‚≠ê Favorites']);
            this.cards.forEach(c => (c.dataset.tags || '').split(',').map(t => t.trim()).filter(Boolean).forEach(t => tagSet.add(t)));
            const tagsBar = $('#tagsBar');
            tagsBar.innerHTML = '';
            tagSet.forEach(tag => {
                const chip = document.createElement('button');
                chip.className = 'chip'; chip.textContent = tag; chip.dataset.tag = tag; chip.type = 'button';
                chip.addEventListener('click', () => {
                    if (tag === '‚≠ê Favorites') this.favoritesOnly = !this.favoritesOnly;
                    else { if (this.activeTags.has(tag)) this.activeTags.delete(tag); else this.activeTags.add(tag); }
                    this.filterAndSort();
                });
                tagsBar.appendChild(chip);
            });
        },
        addEventListeners() {
            $('#projectSearch').addEventListener('input', () => this.filterAndSort());
            $('#sortSelect').addEventListener('change', () => this.filterAndSort());
            $('#clearFilter').addEventListener('click', () => {
                $('#projectSearch').value = '';
                this.favoritesOnly = false; this.activeTags.clear();
                $('#sortSelect').value = 'az';
                this.filterAndSort();
                UIManager.showToast('Filter cleared');
            });
        },
        filterAndSort() {
            const q = $('#projectSearch').value.trim().toLowerCase();
            const activeTagArray = [...this.activeTags];
            this.cards.forEach(card => {
                const title = card.querySelector('h2').textContent.toLowerCase();
                const tags = (card.dataset.tags || '').toLowerCase();
                const id = card.dataset.id;
                const favPass = !this.favoritesOnly || this.favorites.has(id);
                const queryPass = !q || title.includes(q) || tags.includes(q);
                const tagPass = activeTagArray.length === 0 || activeTagArray.some(t => tags.includes(t.toLowerCase()));
                card.style.display = (favPass && queryPass && tagPass) ? '' : 'none';
            });
            this.sortProjects(); this.updateStats(); this.updateChipSelection();
        },
        sortProjects() {
            const grid = $('#projectsGrid');
            const items = $$('.project-card', grid).filter(el => el.style.display !== 'none');
            const mode = $('#sortSelect').value;
            items.sort((a, b) => {
                if (mode === 'newest' || mode === 'oldest') {
                    const dateA = new Date(a.dataset.updated), dateB = new Date(b.dataset.updated);
                    return mode === 'newest' ? dateB - dateA : dateA - dateB;
                }
                const ta = a.querySelector('h2').textContent.trim().toLowerCase();
                const tb = b.querySelector('h2').textContent.trim().toLowerCase();
                return mode === 'za' ? tb.localeCompare(ta) : ta.localeCompare(tb);
            }).forEach(el => grid.appendChild(el));
        },
        updateStats() {
            const vis = this.cards.filter(c => c.style.display !== 'none').length;
            const favs = this.cards.filter(c => c.style.display !== 'none' && this.favorites.has(c.dataset.id)).length;
            $('#projectStats').textContent = vis > 0 ? `üîß ${vis} Project${vis>1?'s':''} ‚Ä¢ ‚≠ê ${favs} Favorite${favs>1?'s':''}` : 'No projects match.';
        },
        updateChipSelection() {
            $$('#tagsBar .chip').forEach(c => {
                const tag = c.dataset.tag;
                c.classList.toggle('selected', (tag === '‚≠ê Favorites' && this.favoritesOnly) || this.activeTags.has(tag));
            });
        }
      };

      const CommandPalette = {
        cmdk: $('#cmdk'), cmdkBtn: $('#cmdkBtn'), cmdkInput: $('#cmdkInput'), cmdkList: $('#cmdkList'),
        commands: [
            { id: 'goto-projects', title: 'Go to Projects', icon: 'fa-rocket', hotkey: 'P', action: () => {
                $('#projects').scrollIntoView({ behavior: 'smooth' });
                Misc.highlightElement($('.projects-head'));
            }},
            { id: 'toggle-theme', title: 'Toggle Theme', icon: 'fa-circle-half-stroke', hotkey: 'T', action: () => ThemeManager.cycleTheme() },
            { id: 'toggle-favorites', title: 'Toggle Favorites Filter', icon: 'fa-star', hotkey: 'F', action: () => $$('#tagsBar .chip').find(c=>c.textContent.includes('Favorites'))?.click() },
            { id: 'top', title: 'Back to Top', icon: 'fa-arrow-up', hotkey: '‚Üë', action: () => window.scrollTo({ top: 0, behavior: 'smooth' }) },
            { id: 'social-github', title: 'Open GitHub', icon: 'fa-brands fa-github', action: () => window.open('https://github.com/jinosabu1999', '_blank') },
            { id: 'social-twitter', title: 'Open X (Twitter)', icon: 'fa-brands fa-x-twitter', action: () => window.open('https://x.com/jinosabu1999', '_blank') },
        ],
        activeIndex: 0,
        init() {
            this.cmdkBtn.addEventListener('click', () => this.open());
            document.addEventListener('keydown', e => this.handleGlobalKeydown(e));
            this.cmdk.addEventListener('click', e => { if (e.target === this.cmdk) this.close(); });
            this.cmdkInput.addEventListener('input', () => this.renderList());
            this.cmdkList.addEventListener('click', e => this.handleItemClick(e));
        },
        open() { 
          this.cmdk.classList.add('open'); this.cmdkInput.value = ''; 
          this.renderList(); this.cmdkInput.focus();
          Gamification.incrementCounter('commander');
        },
        close() { this.cmdk.classList.remove('open'); },
        handleGlobalKeydown(e) {
          if ((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k') { e.preventDefault(); this.open(); }
          if (this.cmdk.classList.contains('open')) {
            if (e.key === 'Escape') this.close();
            if (e.key === 'ArrowDown' || e.key === 'ArrowUp') { e.preventDefault(); this.navigate(e.key); }
            if (e.key === 'Enter') { e.preventDefault(); this.executeCommand(); }
          }
        },
        handleItemClick(e) {
            const item = e.target.closest('.cmdk-item');
            if (!item) return;
            this.commands.find(c => c.id === item.dataset.action)?.action();
            this.close();
        },
        executeCommand() { $('.cmdk-item.active', this.cmdkList)?.click(); },
        navigate(key) {
          const items = $$('.cmdk-item', this.cmdkList);
          if (items.length === 0) return;
          items[this.activeIndex]?.classList.remove('active');
          if (key === 'ArrowDown') this.activeIndex = (this.activeIndex + 1) % items.length;
          else this.activeIndex = (this.activeIndex - 1 + items.length) % items.length;
          items[this.activeIndex].classList.add('active');
        },
        renderList() {
          const query = this.cmdkInput.value.toLowerCase();
          const filtered = this.commands.filter(c => c.title.toLowerCase().includes(query) || c.id.toLowerCase().includes(query));
          this.cmdkList.innerHTML = filtered.map(c => `<div class="cmdk-item" tabindex="-1" data-action="${c.id}"><i class="fa-solid ${c.icon}"></i><span>${c.title}</span>${c.hotkey?`<span class="kbd">${c.hotkey}</span>`:''}</div>`).join('');
          this.activeIndex = 0;
          if ($('.cmdk-item', this.cmdkList)) $('.cmdk-item', this.cmdkList).classList.add('active');
        }
      };

      const Effects = {
        init() {
          this.initScrollAnimations();
          if (prefersReducedMotion) return;
          this.initMagneticElements();
          this.initCardTilt();
        },
        initMagneticElements() {
            $$('.magnetic').forEach(magnet => {
                magnet.addEventListener('mousemove', function(e) {
                    const rect = magnet.getBoundingClientRect();
                    const x = (e.clientX - rect.left - rect.width / 2) / rect.width * 50;
                    const y = (e.clientY - rect.top - rect.height / 2) / rect.height * 50;
                    magnet.style.transform = `translate(${x}px, ${y}px)`;
                });
                magnet.addEventListener('mouseleave', () => magnet.style.transform = 'translate(0,0)');
            });
        },
        initCardTilt() {
            $$('.tilt').forEach(card => {
                card.addEventListener('pointermove', e => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left, y = e.clientY - rect.top;
                    const { width, height } = rect;
                    const rotateX = (y / height - 0.5) * -15;
                    const rotateY = (x / width - 0.5) * 15;
                    card.style.setProperty('--mx', `${(x / width) * 100}%`);
                    card.style.setProperty('--my', `${(y / height) * 100}%`);
                    card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0)';
                });
            });
        },
        initScrollAnimations() {
            const observer = new IntersectionObserver((e) => e.forEach(i => {
                if(i.isIntersecting){i.target.classList.add('revealed');observer.unobserve(i.target)}
            }), { threshold: 0.1 });
            $$('.reveal').forEach(el => observer.observe(el));
        },
        spawnSparkles(target, count = 10) {
            if (prefersReducedMotion) return;
            const rect = target.getBoundingClientRect();
            const container = document.createElement('div');
            container.className = 'sparkle-container';
            container.style.left = `${rect.left + rect.width / 2 + window.scrollX}px`;
            container.style.top = `${rect.top + rect.height / 2 + window.scrollY}px`;
            document.body.appendChild(container);
            for (let i = 0; i < count; i++) {
                const s = document.createElement('span'), angle = Math.random()*Math.PI*2, dist = Math.random()*28;
                s.className = 'sparkle';
                s.style.setProperty('--dx', `${Math.cos(angle) * dist}px`);
                s.style.setProperty('--dy', `${Math.sin(angle) * dist}px`);
                container.appendChild(s);
            }
            setTimeout(() => container.remove(), 800);
        }
      };

      const VibeCustomizer = {
        panel: $('#vibePanel'),
        toggleBtn: $('#vibeToggleBtn'),
        closeBtn: $('#vibeCloseBtn'),
        defaults: {
            glassBlur: '18',
            glowIntensity: '1',
            animationSpeed: '0.6',
            font: "'Orbitron', system-ui, sans-serif",
            cardStyle: 'glass',
            radius: '24',
        },
        init() {
            this.toggleBtn.addEventListener('click', () => this.togglePanel());
            this.closeBtn.addEventListener('click', () => this.togglePanel());
            document.addEventListener('keydown', e => {
                if(e.key === 'Escape' && this.panel.classList.contains('open')) this.togglePanel();
            });
            this.loadSettings();
            this.addEventListeners();
        },
        togglePanel() { this.panel.classList.toggle('open'); },
        addEventListeners() {
            const controls = {
                glassBlurSlider: { prop: '--glass-blur', unit: 'px', label: 'glassBlurValue' },
                glowIntensitySlider: { target: '.bg-grid', prop: 'opacity', label: 'glowIntensityValue', unit: '%' },
                animationSpeedSlider: { prop: '--transition-slow', unit: 's', label: 'animationSpeedValue' },
                fontSelect: { prop: '--font-main' },
                cardStyleSelect: { attribute: 'data-card-style' },
                radiusSlider: { prop: '--radius', unit: 'px', label: 'radiusValue' },
            };
            for(const id in controls) {
                const el = $(`#${id}`);
                el.addEventListener('input', (e) => this.handleControlChange(e.target, controls[id]));
            }
            $('#resetVibeBtn').addEventListener('click', () => this.resetSettings());
        },
        handleControlChange(el, control) {
            const value = el.type === 'checkbox' ? el.checked : el.value;
            if(control.prop) document.documentElement.style.setProperty(control.prop, value + (control.unit === 'px' || control.unit === 's' ? control.unit : ''));
            if(control.attribute) document.documentElement.setAttribute(control.attribute, value);
            if(control.class) document.body.classList.toggle(control.class, value);
            if(control.label) {
                const displayVal = control.unit === '%' ? `${Math.round(value*100)}${control.unit || ''}` : `${value}${control.unit || ''}`;
                $(`#${control.label}`).textContent = displayVal;
            }
            if(control.target) {
                const targetEl = $(control.target);
                if(targetEl) targetEl.style.setProperty(control.prop, value);
            }
            this.saveSetting(el.id, value);
        },
        loadSettings() {
            const settings = { ...this.defaults, ...JSON.parse(localStorage.getItem('vibeSettings')) };
            const controlMap = this.getControlsMap();
            Object.entries(settings).forEach(([key, value]) => {
                const controlId = controlMap[key];
                if (controlId) {
                    const el = $(`#${controlId}`);
                    if(el) {
                        if (el.type === 'checkbox') el.checked = value;
                        else el.value = value;
                        el.dispatchEvent(new Event('input'));
                    }
                }
            });
        },
        getControlsMap() {
            return {
                glassBlur: 'glassBlurSlider', glowIntensity: 'glowIntensitySlider', animationSpeed: 'animationSpeedSlider',
                font: 'fontSelect', cardStyle: 'cardStyleSelect', radius: 'radiusSlider'
            };
        },
        saveSetting(controlId, value) {
            const settings = JSON.parse(localStorage.getItem('vibeSettings')) || {};
            const key = Object.keys(this.getControlsMap()).find(k => this.getControlsMap()[k] === controlId);
            if (key) {
                settings[key] = value;
                localStorage.setItem('vibeSettings', JSON.stringify(settings));
            }
        },
        resetSettings() {
            localStorage.removeItem('vibeSettings');
            this.loadSettings();
            UIManager.showToast('Vibe reset to default');
        }
      };
      
      const Gamification = {
        state: { unlocked: [], counts: {} },
        achievements: {
            chromaKey: { name: 'Chroma Key' }, curator: { name: 'Curator', required: 3 },
            explorer: { name: 'Explorer', required: 3 }, commander: { name: 'Commander', required: 5 }
        },
        konamiCode: ['ArrowUp','ArrowUp','ArrowDown','ArrowDown','ArrowLeft','ArrowRight','ArrowLeft','ArrowRight','b','a'],
        konamiIndex: 0, hackerModeActive: false,
        init() {
            const savedState = JSON.parse(localStorage.getItem('gamificationState'));
            if(savedState) this.state = savedState;
            document.addEventListener('keydown', e => this.handleKonami(e.key));
        },
        saveState() { localStorage.setItem('gamificationState', JSON.stringify(this.state)); },
        triggerAchievement(id) {
            if(!this.achievements[id] || this.state.unlocked.includes(id)) return;
            UIManager.showToast(`üèÜ Achievement Unlocked: ${this.achievements[id].name}`);
            this.state.unlocked.push(id);
            this.saveState();
        },
        checkAchievements() {
            if (ProjectSystem.favorites.size >= this.achievements.curator.required) this.triggerAchievement('curator');
            if (UIManager.openedModals.size >= this.achievements.explorer.required) this.triggerAchievement('explorer');
        },
        incrementCounter(counterId) {
            this.state.counts[counterId] = (this.state.counts[counterId] || 0) + 1;
            this.saveState();
            if (counterId==='commander' && this.state.counts.commander >= this.achievements.commander.required) this.triggerAchievement('commander');
        },
        handleKonami(key) {
            if (key.toLowerCase() === this.konamiCode[this.konamiIndex].toLowerCase()) {
                if (++this.konamiIndex === this.konamiCode.length) {
                    this.toggleHackerMode();
                    this.konamiIndex = 0;
                }
            } else { this.konamiIndex = 0; }
        },
        toggleHackerMode() {
            this.hackerModeActive = !this.hackerModeActive;
            ThemeManager.setTheme(this.hackerModeActive ? 'hacker' : ThemeManager.originalTheme, this.hackerModeActive);
            UIManager.showToast(`HACKER MODE ${this.hackerModeActive ? 'ENGAGED' : 'DISABLED'}`);
        }
      };

      const Misc = {
        init() {
          this.initScrollProgress();
          $('#year').textContent = new Date().getFullYear();
          this.injectLD();
        },
        initScrollProgress() {
            const progress = $('#progress'), backToTop = $('#backToTop');
            const onScroll = () => {
                const h = document.documentElement;
                if (h.scrollHeight <= h.clientHeight) return;
                progress.style.width = `${(h.scrollTop / (h.scrollHeight - h.clientHeight)) * 100}%`;
                backToTop.classList.toggle('show', h.scrollTop > 220);
            };
            document.addEventListener('scroll', onScroll, { passive: true });
            $('button', backToTop).addEventListener('click', (e) => {
                e.preventDefault();
                if (prefersReducedMotion) { window.scrollTo({ top: 0, behavior: 'smooth' }); return; }
                const rocketIcon = $('i', backToTop);
                rocketIcon.classList.add('animated');
                rocketIcon.addEventListener('animationend', () => rocketIcon.classList.remove('animated'), { once: true });
                setTimeout(() => window.scrollTo({ top: 0, behavior: 'smooth' }), 100);
            });
            onScroll();
        },
        highlightElement(el) {
            if (!el) return;
            el.classList.add('highlighted');
            el.addEventListener('animationend', () => {
                el.classList.remove('highlighted');
            }, { once: true });
        },
        injectLD() {
            const ld = { "@context":"https://schema.org", "@type":"Person", "name":"Jino Sabu", "jobTitle":"Frontend Developer", "alumniOf":"Mechanical Engineering", "url": location.href, "sameAs":["https://github.com/jinosabu1999","https://x.com/jinosabu1999","https://instagram.com/jinosabu1999","https://youtube.com/@JinoSabu1999","https://www.suno.com/@jinosabu1999","https://pinterest.com/jinosabu1999","https://telegram.me/jinosabu1999"]};
            const s = document.createElement('script');
            s.type = 'application/ld+json';
            s.textContent = JSON.stringify(ld);
            document.head.appendChild(s);
        }
      };
      
      document.addEventListener('DOMContentLoaded', init);
    })();
  </script>
</body>
</html>